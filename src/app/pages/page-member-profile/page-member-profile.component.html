<layout-setting>
  <div
    class="
      grow
      md:max-w-[500px]
      lg:max-w-[740px]
      bg-white
      rounded-[4px]
      p-[16px]
    "
  >
    <!-- Basic info -->
    <div class="py-4 border-b border-grey">
      <!-- Title & edit -->
      <div class="flex items-center justify-between mb-2 text-black65">
        <p class="text-[16px] leading-[23px] tracking-wider uppercase mr-2">
          <strong>{{
            basicInfo.edit == true
              ? "Edit Basic Information"
              : "Basic Information"
          }}</strong>
        </p>

        <button
          *ngIf="basicInfo.edit == false"
          type="button"
          class="
            px-3
            py-1
            border border-black15
            bg-white
            text-black text-[14px]
            hover:text-white
            hover:bg-main
            rounded
          "
          (click)="toggleForm(basicInfo)"
        >
          Edit
        </button>
      </div>
      <!-- end of title & edit -->
      <!-- Content & form -->
      <ng-template [ngIf]="basicInfo.loading == true">
        <div class="w-full h-[100px]">
          <partial-loading></partial-loading>
        </div>
      </ng-template>
      <ng-template [ngIf]="basicInfo.loading == false">
        <!-- Content -->
        <ng-template [ngIf]="basicInfo.edit == false">
          <div
            class="grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-4 break-all"
          >
            <div>
              <span class="text-black45">Full Name: </span
              ><span>{{ user.fullname }}</span>
            </div>
            <div>
              <span class="text-black45">Phone Number: </span
              ><span>{{ user.phone }}</span>
            </div>
            <div>
              <span class="text-black45">Address: </span
              ><span>{{ user.address }}</span>
            </div>
          </div>
        </ng-template>
        <!-- end of content -->
        <!-- Form -->
        <ng-template [ngIf]="basicInfo.edit == true">
          <form
            [formGroup]="form1"
            class="flex flex-col min-h-[200px]"
            (submit)="submitForm1()"
          >
            <div class="grow mb-8">
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-4">
                <!-- Full name -->
                <div class="form-group-col">
                  <label class="text-black65"
                    >Full Name <span class="text-danger">*</span></label
                  >
                  <div
                    class="input-wrapper"
                    [class.input-invalid]="
                      fs.isControlInvalid(ctr1.fullname, basicInfo.submitted)
                    "
                  >
                    <input
                      type="text"
                      formControlName="fullname"
                      spellcheck="false"
                    />
                  </div>
                  <div
                    *ngIf="
                      fs.isControlInvalid(ctr1.fullname, basicInfo.submitted)
                    "
                    class="text-right"
                  >
                    <p
                      class="text-danger"
                      *ngIf="fs.isCtrHasError(ctr1.fullname, 'required')"
                    >
                      Full name cannot be empty.
                    </p>
                  </div>
                </div>
                <!-- end of first name -->

                <!-- Phone number -->
                <div class="form-group-col">
                  <label class="text-black65"
                    >Phone Number <span class="text-danger">*</span></label
                  >
                  <div
                    class="input-wrapper"
                    [class.input-invalid]="
                      fs.isControlInvalid(ctr1.phone, basicInfo.submitted)
                    "
                  >
                    <input
                      type="text"
                      formControlName="phone"
                      spellcheck="false"
                    />
                  </div>
                  <div
                    class="text-right"
                    *ngIf="fs.isControlInvalid(ctr1.phone, basicInfo.submitted)"
                  >
                    <p
                      class="text-danger"
                      *ngIf="fs.isCtrHasError(ctr1.phone, 'required')"
                    >
                      Phone number cannot be empty.
                    </p>
                  </div>
                </div>
                <!-- end of phone number -->
                <!-- Address -->
                <div class="form-group-col">
                  <label class="text-black65">Address</label>
                  <div class="input-wrapper">
                    <input
                      type="text"
                      formControlName="address"
                      spellcheck="false"
                    />
                  </div>
                </div>
                <!-- end of address -->
              </div>
            </div>
            <!-- Buttons -->
            <div
              class="
                flex flex-col
                lg:flex-row
                lg:justify-end
                justify-center
                items-center
              "
            >
              <button
                type="button"
                class="btn btn-white lg:mb-0 lg:mr-4 order-last lg:order-first"
                (click)="toggleForm(basicInfo)"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-main mb-3 lg:mb-0">
                Save Changes
              </button>
            </div>
            <!-- end of buttons -->
          </form>
        </ng-template>
        <!-- end of form -->
      </ng-template>
      <!-- end of content & form -->
    </div>
    <!-- end of basic info -->
    <!-- Login info -->
    <div class="py-4">
      <!-- Title & edit -->
      <div class="flex items-center justify-between mb-2 text-black65">
        <p class="text-[16px] leading-[23px] tracking-wider uppercase mr-2">
          <strong>{{
            loginInfo.edit == true
              ? "Edit Login Information"
              : "Login Information"
          }}</strong>
        </p>
        <button
          *ngIf="loginInfo.edit == false"
          type="button"
          class="
            px-3
            py-1
            border border-black15
            bg-white
            text-black text-[14px]
            hover:text-white
            hover:bg-main
            rounded
          "
          (click)="toggleForm(loginInfo)"
        >
          Edit
        </button>
      </div>
      <!-- end of title & edit -->
      <!-- Content & form-->
      <ng-template [ngIf]="loginInfo.loading == true">
        <div class="w-full h-[100px]">
          <partial-loading></partial-loading>
        </div>
      </ng-template>
      <ng-template [ngIf]="loginInfo.loading == false">
        <!-- Content -->
        <ng-template [ngIf]="loginInfo.edit == false">
          <div
            class="grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-4 break-all"
          >
            <div>
              <span class="text-black45">Email: </span
              ><span>{{ user.email }}</span>
            </div>
            <div>
              <span class="text-black45">Password: </span><span>******</span>
            </div>
          </div>
        </ng-template>
        <!-- end of content -->
        <!-- Form -->
        <ng-template [ngIf]="loginInfo.edit == true">
          <form
            [formGroup]="form2"
            class="flex flex-col min-h-[200px]"
            (submit)="submitForm2()"
          >
            <div class="grow mb-8">
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-4">
                <!-- Email -->
                <div class="form-group-col">
                  <label class="text-black65"
                    >Email <span class="text-danger">*</span>
                  </label>
                  <div
                    class="input-wrapper"
                    [class.input-invalid]="
                      fs.isControlInvalid(ctr2.email, loginInfo.submitted)
                    "
                  >
                    <input
                      type="email"
                      formControlName="email"
                      spellcheck="false"
                    />
                  </div>

                  <div
                    class="text-right"
                    *ngIf="fs.isControlInvalid(ctr2.email, loginInfo.submitted)"
                  >
                    <p
                      class="text-danger"
                      *ngIf="fs.isCtrHasError(ctr2.email, 'required')"
                    >
                      Email cannot be empty.
                    </p>
                    <p
                      class="text-danger"
                      *ngIf="fs.isCtrHasError(ctr2.email, 'email')"
                    >
                      Email invalid.
                    </p>
                  </div>
                </div>
                <!-- end of email -->
                <!-- Current password -->
                <div class="form-group-col">
                  <label class="text-black65">
                    Current Password
                    <span class="text-danger">*</span>
                  </label>
                  <div
                    class="input-wrapper"
                    [class.input-invalid]="
                      fs.isControlInvalid(
                        ctr2.currentPassword,
                        loginInfo.submitted
                      )
                    "
                  >
                    <input
                      [type]="
                        loginInfo.shows.currentPassword == true
                          ? 'text'
                          : 'password'
                      "
                      formControlName="currentPassword"
                      spellcheck="false"
                      autocomplete="new-password"
                    />
                    <fa-icon
                      class="
                        absolute
                        top-[3px]
                        right-[6px]
                        w-[20px]
                        cursor-pointer
                        text-black45
                      "
                      (click)="
                        loginInfo.shows.currentPassword =
                          !loginInfo.shows.currentPassword
                      "
                      [icon]="
                        loginInfo.shows.currentPassword == true
                          ? faEyeSlash
                          : faEye
                      "
                    ></fa-icon>
                  </div>
                  <div
                    class="text-right"
                    *ngIf="
                      fs.isControlInvalid(
                        ctr2.currentPassword,
                        loginInfo.submitted
                      )
                    "
                  >
                    <p
                      class="text-danger"
                      *ngIf="fs.isCtrHasError(ctr2.currentPassword, 'required')"
                    >
                      Please enter current password.
                    </p>
                  </div>
                </div>
                <!-- end of current password -->
                <!-- New password -->
                <div class="form-group-col">
                  <label class="text-black65">
                    New Password <span class="text-danger">*</span>
                  </label>
                  <div
                    class="input-wrapper"
                    [class.input-invalid]="
                      fs.isControlInvalid(ctr2.newPassword, loginInfo.submitted)
                    "
                  >
                    <input
                      [type]="
                        loginInfo.shows.newPassword == true
                          ? 'text'
                          : 'password'
                      "
                      formControlName="newPassword"
                      spellcheck="false"
                    />
                    <fa-icon
                      class="
                        absolute
                        top-[3px]
                        right-[6px]
                        w-[20px]
                        cursor-pointer
                        text-black45
                      "
                      (click)="
                        loginInfo.shows.newPassword =
                          !loginInfo.shows.newPassword
                      "
                      [icon]="
                        loginInfo.shows.newPassword == true ? faEyeSlash : faEye
                      "
                    ></fa-icon>
                  </div>
                  <div
                    *ngIf="
                      fs.isControlInvalid(ctr2.newPassword, loginInfo.submitted)
                    "
                  >
                    <p
                      class="text-danger"
                      *ngIf="fs.isCtrHasError(ctr2.newPassword, 'required')"
                    >
                      Please enter new password.
                    </p>
                  </div>
                </div>
                <!-- end of new password -->
                <!-- Confirm password -->
                <div class="form-group-col">
                  <label class="text-black65">
                    Confirm Password <span class="text-danger">*</span>
                  </label>
                  <div
                    class="input-wrapper"
                    [class.input-invalid]="
                      fs.isControlInvalid(
                        ctr2.confirmPassword,
                        loginInfo.submitted
                      )
                    "
                  >
                    <input
                      [type]="
                        loginInfo.shows.confirmPassword == true
                          ? 'text'
                          : 'password'
                      "
                      formControlName="confirmPassword"
                      spellcheck="false"
                    />
                    <fa-icon
                      class="
                        absolute
                        top-[3px]
                        right-[6px]
                        w-[20px]
                        cursor-pointer
                        text-black45
                      "
                      (click)="
                        loginInfo.shows.confirmPassword =
                          !loginInfo.shows.confirmPassword
                      "
                      [icon]="
                        loginInfo.shows.confirmPassword == true
                          ? faEyeSlash
                          : faEye
                      "
                    ></fa-icon>
                  </div>
                  <ng-template
                    [ngIf]="
                      fs.isControlInvalid(
                        ctr2.confirmPassword,
                        loginInfo.submitted
                      )
                    "
                  >
                    <p
                      class="text-danger"
                      *ngIf="fs.isCtrHasError(ctr2.confirmPassword, 'required')"
                    >
                      Please re-enter new password here.
                    </p>
                    <p
                      class="text-danger"
                      *ngIf="fs.isCtrHasError(ctr2.confirmPassword, 'matched')"
                    >
                      Confirm password did not matched with new password.
                    </p>
                  </ng-template>
                </div>
                <!-- end of confirm password -->
              </div>
            </div>
            <!-- Buttons -->
            <div
              class="
                flex flex-col
                lg:flex-row
                lg:justify-end
                justify-center
                items-center
              "
            >
              <button
                type="button"
                class="btn btn-white lg:mb-0 lg:mr-4 order-last lg:order-first"
                (click)="toggleForm(loginInfo)"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-main mb-3 lg:mb-0">
                Save Changes
              </button>
            </div>
            <!-- end of buttons -->
          </form>
        </ng-template>
        <!-- end of form -->
      </ng-template>
      <!-- end of content & form -->
    </div>
    <!-- end of login info -->
  </div>
  <!-- Popup -->
  <ng-template [ngIf]="popup == true">
    <modal-message
      [title]="popupContent.title"
      [html]="popupContent.html"
      [icon]="popupContent.icon"
      [timer]="popupContent.timer"
      (closed)="togglePopup()"
    ></modal-message>
  </ng-template>
  <!-- end of popup -->
</layout-setting>
