<div class="w-full md:w-40per mx-auto">
  <!-- Step 1: Enter email -->
  <ng-template [ngIf]="step1.active == true">
    <form [formGroup]="step1.form" class="text-white" (submit)="submitStep1()">
      <!-- Title -->
      <div class="py-4 border-b border-greyDark text-center">
        <p class="text-xl font-semibold">Reset password</p>
        <p>Enter your email address to receive reset code</p>
      </div>
      <!-- end of title -->
      <!-- Inputs -->
      <div class="py-4">
        <!-- Email -->
        <div class="form-group">
          <label>Email <span class="text-danger">*</span></label>
          <div class="input-wrapper">
            <input
              type="email"
              formControlName="email"
              spellcheck="false"
              placeholder="email@domain.com"
              class="grow text-black"
              [class.input-invalid]="
                (ctr1.email.dirty || step1.submitted) && ctr1.email.invalid
              "
            />
          </div>
          <ng-template
            [ngIf]="(ctr1.email.dirty || step1.submitted) && ctr1.email.invalid"
          >
            <div class="text-right" t>
              <span
                *ngIf="ctr1.email.errors?.['required']"
                class="text-danger"
                >{{ step1.messages.email.required }}</span
              >
              <span *ngIf="ctr1.email.errors?.['email']" class="text-danger">{{
                step1.messages.email.email
              }}</span>
            </div>
          </ng-template>
        </div>
        <!-- end of email -->
      </div>
      <!-- end of inputs -->
      <!-- Navs -->
      <nav class="mb-8 flex flex-wrap items-center justify-end">
        <a
          [routerLink]="['/auth/login']"
          class="px-2 border-r border-white hover:text-main"
          >Login</a
        >
        <a [routerLink]="['/auth/register']" class="pl-2 hover:text-main"
          >Register</a
        >
      </nav>
      <!-- end of navs -->
      <!-- Submit button -->
      <div class="flex">
        <button
          type="submit"
          class="
            grow
            px-8
            py-4
            w-full
            text-white
            bg-main
            hover:bg-transparent
            hover:text-main
            border-main border
            rounded
          "
        >
          Send reset code
        </button>
      </div>
      <!-- end of submit button -->
    </form>
  </ng-template>
  <!-- end of step 1: enter email -->

  <!-- Step 2: Reset password-->
  <ng-template [ngIf]="step2.active == true">
    <form [formGroup]="step2.form" class="text-white" (submit)="submitStep2()">
      <!-- Title -->
      <div class="py-4 border-b border-greyDark text-right">
        <p class="text-xl font-semibold">Reset password</p>
      </div>
      <!-- end of title -->
      <!-- Inputs -->
      <div class="py-4">
        <!-- Email -->
        <div class="form-group">
          <label>Email <span class="text-danger">*</span></label>
          <div class="input-wrapper">
            <p>{{ ctr2.email.value }}</p>
          </div>
        </div>
        <!-- end of email -->

        <!-- Reset code -->
        <div class="form-group">
          <label>Reset code <span class="text-danger">*</span></label>
          <div class="input-wrapper">
            <input
              type="text"
              formControlName="resetCode"
              spellcheck="false"
              class="grow text-black"
              [class.input-invalid]="
                (ctr2.resetCode.dirty || step2.submitted) &&
                ctr2.resetCode.invalid
              "
            />
          </div>
          <ng-template
            [ngIf]="
              (ctr2.resetCode.dirty || step2.submitted) &&
              ctr2.resetCode.invalid
            "
          >
            <span
              *ngIf="ctr2.resetCode.errors?.['required']"
              class="text-danger"
              >{{ step2.messages.resetCode.required }}</span
            >
          </ng-template>
        </div>
        <!-- end of reset code -->

        <!-- New password -->
        <div class="form-group">
          <label>New password <span class="text-danger">*</span></label>
          <div class="input-wrapper">
            <input
              [type]="step2.show.newPassword ? 'text' : 'password'"
              formControlName="password"
              spellcheck="false"
              class="grow text-black"
              [class.input-invalid]="
                (ctr2.password.dirty || step2.submitted) &&
                ctr2.password.invalid
              "
            />
            <button
              (click)="step2.show.newPassword = !step2.show.newPassword"
              type="button"
              class="p-4 hover:text-main"
            >
              <fa-icon
                [icon]="step2.show.newPassword ? faEyeSlash : faEye"
              ></fa-icon>
            </button>
          </div>
          <ng-template
            [ngIf]="
              (ctr2.password.dirty || step2.submitted) && ctr2.password.invalid
            "
          >
            <span
              *ngIf="ctr2.password.errors?.['required']"
              class="text-danger"
              >{{ step2.messages.password.required }}</span
            >
          </ng-template>
        </div>
        <!-- end of new password -->

        <!-- Confirm new password -->
        <div class="form-group">
          <label>Confirm new password <span class="text-danger">*</span></label>
          <div class="input-wrapper">
            <input
              [type]="step2.show.confirmPassword ? 'text' : 'password'"
              formControlName="confirmPassword"
              spellcheck="false"
              class="grow text-black"
              [class.input-invalid]="
                (ctr2.confirmPassword.dirty || step2.submitted) &&
                ctr2.confirmPassword.invalid
              "
            />
            <button
              (click)="step2.show.confirmPassword = !step2.show.confirmPassword"
              type="button"
              class="p-4 hover:text-main"
            >
              <fa-icon
                [icon]="step2.show.confirmPassword ? faEyeSlash : faEye"
              ></fa-icon>
            </button>
          </div>
          <ng-template
            [ngIf]="
              (ctr2.confirmPassword.dirty || step2.submitted) &&
              ctr2.confirmPassword.invalid
            "
          >
            <span
              *ngIf="ctr2.confirmPassword.errors?.['required']"
              class="text-danger"
              >{{ step2.messages.confirmPassword.required }}</span
            >
            <span
              *ngIf="ctr2.confirmPassword.errors?.['matched']"
              class="text-danger"
              >{{ step2.messages.confirmPassword.matched }}</span
            >
          </ng-template>
        </div>
        <!-- end of confirm new password -->
      </div>
      <!-- end of inputs -->

      <!-- Submit button -->
      <div class="flex">
        <button
          type="submit"
          class="
            grow
            px-8
            py-4
            w-full
            text-white
            bg-main
            hover:bg-transparent
            hover:text-main
            border-main border
            rounded
          "
        >
          Reset password
        </button>
      </div>
      <!-- end of submit button -->
    </form>
  </ng-template>
  <!-- end of step 2: reset password -->
</div>
