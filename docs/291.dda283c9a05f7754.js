"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[291],{5291:(hi,N,c)=>{c.r(N),c.d(N,{LayoutMemberHomeModule:()=>gi});var s=c(6895),E=c(3289),f=c(3868),_=c(6384),e=c(8256),j=c(1240),m=c(2340),p=c(801),L=c(419);function B(o,i){if(1&o&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.label)}}const H=function(o){return[o]};function G(o,i){if(1&o&&(e.TgZ(0,"a",15),e._UZ(1,"fa-icon",16),e.YNc(2,B,2,1,"span",17),e.qZA()),2&o){const t=i.$implicit,n=e.oxw();e.ekj("active",n.linkActive==t.route),e.Q6J("routerLink",e.VKq(5,H,"/member/"+t.route)),e.xp6(1),e.Q6J("icon",t.icon),e.xp6(1),e.Q6J("ngIf",n.linkActive==t.route)}}const K=function(){return["/home"]};let X=(()=>{class o{constructor(t){this.aroute=t,this.faUser=p.ILF,this.faCaretDown=p.eW2,this.logoUrl=m.N.imageUrls.logos+"logo-empaty.svg",this.nav=[{label:"Spaces",icon:p.hGM,route:"home",active:!1},{label:"Collaborators",icon:p.iOm,route:"collaborators",active:!1},{label:"Public Spaces",icon:p.nNP,route:"public-spaces",active:!1},{label:"Statistics",icon:p.Wpq,route:"statistics",active:!1}],this.fixedUserAttributes={bottomNegative:"full",right:"0",rounded:!0}}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-header-member"]],inputs:{linkActive:"linkActive",user:"user"},decls:16,vars:9,consts:[[1,"fixed","top-0","left-0","right-0","px-12","pb-4","xs:pb-0","bg-blacklight","text-white","z-topHeaderHome"],[1,"flex","flex-wrap","justify-between"],[1,"grow","flex","flex-wrap","justifi-start","items-center"],[1,"inline-flex","justify-center","items-center","lg:justify-start","py-6","pr-4","lg:py-0"],[3,"routerLink"],[1,"h-5","lg:h-8",3,"src"],[1,"grow","inline-flex","justify-start","items-center"],["class","\n            relative\n            inline-flex\n            justify-center\n            items-center\n            py-0\n            sm:py-6\n            pr-6\n            md:px-6\n            hover:text-main\n          ",3,"routerLink","active",4,"ngFor","ngForOf"],[1,"grow","md:grow-0","relative","cursor-pointer","hover:text-main"],[1,"flex","h-full","justify-end","items-center"],[1,"lg:hidden",3,"icon"],[1,"hidden","lg:inline-block"],[1,"ml-3",3,"icon"],[1,"hidden-item",3,"attributes","user"],[1,"header-margin-bottom"],[1,"relative","inline-flex","justify-center","items-center","py-0","sm:py-6","pr-6","md:px-6","hover:text-main",3,"routerLink"],[1,"text-iconButton","lg:text-icon20",3,"icon"],["class","hidden md:block absolute -bottom-4",4,"ngIf"],[1,"hidden","md:block","absolute","-bottom-4"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._UZ(5,"img",5),e.qZA()(),e.TgZ(6,"nav",6),e.YNc(7,G,3,7,"a",7),e.qZA()(),e.TgZ(8,"div",8)(9,"div",9),e._UZ(10,"fa-icon",10),e.TgZ(11,"p",11),e._uU(12),e.qZA(),e._UZ(13,"fa-icon",12),e.qZA(),e._UZ(14,"fixed-item-user",13),e.qZA()()(),e._UZ(15,"div",14)),2&t&&(e.xp6(4),e.Q6J("routerLink",e.DdM(8,K)),e.xp6(1),e.Q6J("src",n.logoUrl,e.LSH),e.xp6(2),e.Q6J("ngForOf",n.nav),e.xp6(3),e.Q6J("icon",n.faUser),e.xp6(2),e.Oqu(n.user.fullname),e.xp6(1),e.Q6J("icon",n.faCaretDown),e.xp6(1),e.Q6J("attributes",n.fixedUserAttributes)("user",n.user))},dependencies:[s.sg,s.O5,L.x,_.yS,f.BN],styles:["nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{bottom:.75em;font-size:10px}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#be185a}.relative[_ngcontent-%COMP%]   .hidden-item[_ngcontent-%COMP%]{display:none}.relative[_ngcontent-%COMP%]:hover   .hidden-item[_ngcontent-%COMP%]{display:block}.header-margin-bottom[_ngcontent-%COMP%]{width:100vw;height:7.625em}@media (min-width: 320px){.header-margin-bottom[_ngcontent-%COMP%]{height:6.125em}}@media (min-width: 576px){.header-margin-bottom[_ngcontent-%COMP%]{height:3.875em}}@media (min-width: 768px){.header-margin-bottom[_ngcontent-%COMP%]{height:4.25em}}@media (min-width: 1024px){.header-margin-bottom[_ngcontent-%COMP%]{height:4.625em}}"]}),o})(),D=(()=>{class o{constructor(t){this.router=t,this.catchUrl()}ngOnInit(){this.getUser()}catchUrl(){this.router.events.subscribe(t=>{if(t instanceof _.m2){let n=t.url.substring(8);this.linkActive=""==n||"/"==n?"home":n}})}getUser(){let t=localStorage.getItem("user");this.user=JSON.parse(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["layout-member-home"]],decls:5,vars:2,consts:[[1,"flex","flex-col","min-h-screen","layout-member-home"],[3,"linkActive","user"],[1,"grow","px-6","md:px-12","py-3","md:pt-10","md:pb-6","flex","flex-col","items-center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"partial-header-member",1),e.TgZ(2,"div",2),e._UZ(3,"router-outlet"),e.qZA(),e._UZ(4,"partial-copyright"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("linkActive",n.linkActive)("user",n.user))},dependencies:[j.F,_.lC,X],styles:[".layout-member-home[_ngcontent-%COMP%]{background:linear-gradient(212.39deg,#151515 13.66%,#A91456 98.31%)}"]}),o})();var Q=c(411),b=c(5114),C=c(4045),T=c(2406);const Y=[{_id:1,name:"Admin",value:"admin"},{_id:2,name:"User",value:"user"}];var q=c(9943);const d=q.b,y=[{_id:1,name:"Active",value:"active"},{_id:2,name:"Pending",value:"pending"},{_id:3,name:"Deleted",value:"deleted"}],z=[{_id:"1",user:d[0]._id,collaborators:[{user:{_id:d[1]._id,fullname:d[1].fullname,email:d[1].email,name:d[1].name},role:Y[0],status:y[0]},{user:{_id:d[0]._id,fullname:d[0].fullname,email:d[0].email,name:d[0].name},role:Y[1],status:y[1]},{user:{_id:d[2]._id,fullname:d[2].fullname,email:d[2].email,name:d[2].name},role:Y[1],status:y[1]},{user:{_id:d[3]._id,fullname:d[3].fullname,email:d[3].email,name:d[3].name},role:Y[1],status:y[1]}]},{_id:"2",user:d[1],collaborators:[{user:{_id:d[0]._id,fullname:d[0].fullname,email:d[0].email,name:d[0].name},role:Y[1],status:y[1]}]}];var I=c(529);const $=z,R=Y;let k=(()=>{class o{constructor(t){this.http=t}getCollaborators(t){let n={data:[],count:0};for(let a of $)if(a.user==t){n.data=a.collaborators,n.count=n.data.length;break}return n}getRoles(){return{status:200,data:R}}addCollaborator(t){return{status:201,data:"0523187254abcdefghjkl"}}deleteCollaborator(t){return{status:200}}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(I.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var P=c(4001),h=c(8759),r=c(433),S=c(6491),u=c(7938);function W(o,i){if(1&o&&(e.TgZ(0,"p",38)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(t.step1.messages.title.required)}}function ee(o,i){if(1&o&&e.YNc(0,W,3,1,"p",37),2&o){const t=e.oxw(2);e.Q6J("ngIf",null==t.ctr1.title.errors?null:t.ctr1.title.errors.required)}}function te(o,i){1&o&&e._UZ(0,"span",39)}function oe(o,i){1&o&&e._UZ(0,"span",40)}function ne(o,i){1&o&&e._UZ(0,"span",39)}function ie(o,i){1&o&&e._UZ(0,"span",40)}function ae(o,i){1&o&&e._UZ(0,"span",39)}function re(o,i){1&o&&e._UZ(0,"span",40)}function le(o,i){1&o&&e._UZ(0,"span",39)}function se(o,i){1&o&&e._UZ(0,"span",40)}function ce(o,i){1&o&&e._UZ(0,"span",39)}function pe(o,i){1&o&&e._UZ(0,"span",40)}function me(o,i){1&o&&e._UZ(0,"span",39)}function de(o,i){1&o&&e._UZ(0,"span",40)}function ge(o,i){if(1&o&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function ue(o,i){if(1&o&&(e.TgZ(0,"p",38)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(t.step1.messages.category.required)}}function _e(o,i){if(1&o&&e.YNc(0,ue,3,1,"p",37),2&o){const t=e.oxw(2);e.Q6J("ngIf",null==t.ctr1.category.errors?null:t.ctr1.category.errors.required)}}function fe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",6),e.NdJ("submit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submitForm1())}),e.TgZ(1,"div",7)(2,"div")(3,"div",8)(4,"label")(5,"strong"),e._uU(6,"Title "),e.TgZ(7,"span",9),e._uU(8,"*"),e.qZA()()(),e.TgZ(9,"div",10),e._UZ(10,"input",11),e.qZA()(),e.YNc(11,ee,1,1,"ng-template",5),e.qZA(),e.TgZ(12,"div",8)(13,"label")(14,"strong"),e._uU(15,"Type"),e.qZA()(),e.TgZ(16,"div",12)(17,"div",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.ctr1.type.setValue("2d"))}),e.TgZ(18,"div",10),e._UZ(19,"div",14),e.qZA(),e.TgZ(20,"p",15),e._uU(21,"2D"),e.qZA()(),e.TgZ(22,"div",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.ctr1.type.setValue("video"))}),e.TgZ(23,"div",10),e._UZ(24,"div",14),e.qZA(),e.TgZ(25,"p",15),e._uU(26,"Video"),e.qZA()()()(),e.TgZ(27,"div",8)(28,"label")(29,"strong"),e._uU(30,"Image"),e.qZA()(),e.TgZ(31,"div",10),e._UZ(32,"input",16),e.TgZ(33,"div",17),e._UZ(34,"span",18),e.qZA()()(),e.TgZ(35,"div",8)(36,"label")(37,"strong"),e._uU(38,"Audio File"),e.qZA()(),e.TgZ(39,"div",10),e._UZ(40,"input",19)(41,"img",20),e.qZA()(),e.TgZ(42,"div",8)(43,"label")(44,"strong"),e._uU(45,"Present By"),e.qZA()(),e.TgZ(46,"div",10),e._UZ(47,"input",21),e.qZA()(),e.TgZ(48,"div",8)(49,"label")(50,"strong"),e._uU(51,"Author Name"),e.qZA()(),e.TgZ(52,"div",10),e._UZ(53,"input",22),e.qZA()(),e.TgZ(54,"div",8)(55,"label")(56,"strong"),e._uU(57,"Contact Name"),e.qZA()(),e.TgZ(58,"div",10),e._UZ(59,"input",23),e.TgZ(60,"div",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.step1.shows.contactName=!a.step1.shows.contactName)}),e.YNc(61,te,1,0,"span",25),e.YNc(62,oe,1,0,"span",26),e.qZA()()(),e.TgZ(63,"div",8)(64,"label")(65,"strong"),e._uU(66,"Contact Email"),e.qZA()(),e.TgZ(67,"div",10),e._UZ(68,"input",27),e.TgZ(69,"div",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.step1.shows.contactEmail=!a.step1.shows.contactEmail)}),e.YNc(70,ne,1,0,"span",25),e.YNc(71,ie,1,0,"span",26),e.qZA()()(),e.TgZ(72,"div",8)(73,"label")(74,"strong"),e._uU(75,"Contact Phone"),e.qZA()(),e.TgZ(76,"div",10),e._UZ(77,"input",28),e.TgZ(78,"div",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.step1.shows.contactPhone=!a.step1.shows.contactPhone)}),e.YNc(79,ae,1,0,"span",25),e.YNc(80,re,1,0,"span",26),e.qZA()()(),e.TgZ(81,"div",8)(82,"label")(83,"strong"),e._uU(84,"Address"),e.qZA()(),e.TgZ(85,"div",10),e._UZ(86,"input",29),e.TgZ(87,"div",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.step1.shows.address=!a.step1.shows.address)}),e.YNc(88,le,1,0,"span",25),e.YNc(89,se,1,0,"span",26),e.qZA()()(),e.TgZ(90,"div",8)(91,"label")(92,"strong"),e._uU(93,"External URL"),e.qZA()(),e.TgZ(94,"div",10),e._UZ(95,"input",30),e.TgZ(96,"div",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.step1.shows.url=!a.step1.shows.url)}),e.YNc(97,ce,1,0,"span",25),e.YNc(98,pe,1,0,"span",26),e.qZA()()(),e.TgZ(99,"div",8)(100,"label")(101,"strong"),e._uU(102,"Published Date"),e.qZA()(),e.TgZ(103,"div",10),e._UZ(104,"input",31),e.TgZ(105,"div",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.step1.shows.published=!a.step1.shows.published)}),e.YNc(106,me,1,0,"span",25),e.YNc(107,de,1,0,"span",26),e.qZA()()(),e.TgZ(108,"div",8)(109,"label")(110,"strong"),e._uU(111,"Summary"),e.qZA()(),e.TgZ(112,"div",10),e._UZ(113,"textarea",32),e.qZA()(),e.TgZ(114,"div")(115,"div",8)(116,"label")(117,"strong"),e._uU(118,"Category "),e.TgZ(119,"span",9),e._uU(120,"*"),e.qZA()()(),e.TgZ(121,"div",10)(122,"select",33)(123,"option",34),e._uU(124," Select Category "),e.qZA(),e.YNc(125,ge,2,2,"option",35),e.qZA()()(),e.YNc(126,_e,1,1,"ng-template",5),e.qZA()(),e.TgZ(127,"div",2)(128,"button",36),e._uU(129,"Next"),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.form1),e.xp6(9),e.ekj("input-invalid",t.isInvalid1(t.ctr1.title)),e.xp6(2),e.Q6J("ngIf",t.isInvalid1(t.ctr1.title)),e.xp6(8),e.ekj("checked","2d"==t.ctr1.type.value),e.xp6(5),e.ekj("checked","video"==t.ctr1.type.value),e.xp6(17),e.Q6J("src",t.stapleSvg,e.LSH),e.xp6(20),e.Q6J("ngIf",1==t.step1.shows.contactName),e.xp6(1),e.Q6J("ngIf",0==t.step1.shows.contactName),e.xp6(8),e.Q6J("ngIf",1==t.step1.shows.contactEmail),e.xp6(1),e.Q6J("ngIf",0==t.step1.shows.contactEmail),e.xp6(8),e.Q6J("ngIf",1==t.step1.shows.contactPhone),e.xp6(1),e.Q6J("ngIf",0==t.step1.shows.contactPhone),e.xp6(8),e.Q6J("ngIf",1==t.step1.shows.address),e.xp6(1),e.Q6J("ngIf",0==t.step1.shows.address),e.xp6(8),e.Q6J("ngIf",1==t.step1.shows.url),e.xp6(1),e.Q6J("ngIf",0==t.step1.shows.url),e.xp6(8),e.Q6J("ngIf",1==t.step1.shows.published),e.xp6(1),e.Q6J("ngIf",0==t.step1.shows.published),e.xp6(14),e.ekj("input-invalid",t.isInvalid1(t.ctr1.category)),e.xp6(4),e.Q6J("ngForOf",t.step1.selects.categories),e.xp6(1),e.Q6J("ngIf",t.isInvalid1(t.ctr1.category))}}const be=function(){return["member/setting"]};function he(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",42)(1,"div",43)(2,"div",44)(3,"a",45),e._uU(4,"Edit "),e.qZA()(),e.TgZ(5,"div",46)(6,"div",47)(7,"div")(8,"p",48),e._uU(9,"Holder"),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.qZA()(),e.TgZ(12,"div")(13,"p",48),e._uU(14,"Expired Date"),e.qZA(),e.TgZ(15,"p",2),e._uU(16),e.qZA()()(),e.TgZ(17,"div",47)(18,"div")(19,"p",48),e._uU(20,"Card Number"),e.qZA(),e.TgZ(21,"p"),e._uU(22),e.qZA()(),e.TgZ(23,"div"),e._UZ(24,"img",49),e.qZA()()()(),e.TgZ(25,"div",50)(26,"button",51),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goStep(1))}),e._uU(27," Back "),e.qZA(),e.TgZ(28,"button",52),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submitForm2())}),e._uU(29," Next "),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.form2),e.xp6(3),e.Q6J("routerLink",e.DdM(7,be)),e.xp6(8),e.hij(" ",t.ctr2.holder.value," "),e.xp6(5),e.AsE(" ",t.ctr2.expMonth.value,"/",t.ctr2.expYear.value," "),e.xp6(6),e.hij("**** **** **** ",t.ctr2.last4.value,""),e.xp6(2),e.Q6J("src",t.cardLogo,e.LSH)}}function xe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",54)(2,"div")(3,"p",55)(4,"strong"),e._uU(5),e.qZA()(),e.TgZ(6,"div",47)(7,"div",56)(8,"div",57),e._UZ(9,"div",58),e.qZA(),e.TgZ(10,"p"),e._uU(11,"Plan for August"),e.qZA()(),e.TgZ(12,"div")(13,"p")(14,"strong"),e._uU(15),e.ALo(16,"currency"),e.qZA()()()()(),e.TgZ(17,"div")(18,"div",59)(19,"div",47)(20,"p")(21,"strong"),e._uU(22,"Sub Total"),e.qZA()(),e.TgZ(23,"p"),e._uU(24),e.ALo(25,"currency"),e.qZA()(),e.TgZ(26,"div",47)(27,"p")(28,"strong"),e._uU(29,"Tax"),e.qZA()(),e.TgZ(30,"p"),e._uU(31),e.ALo(32,"currency"),e.qZA()()(),e.TgZ(33,"div",60)(34,"p")(35,"strong"),e._uU(36,"Total"),e.qZA()(),e.TgZ(37,"p"),e._uU(38),e.ALo(39,"currency"),e.qZA()()()(),e.TgZ(40,"div",50)(41,"button",51),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goStep(2))}),e._uU(42," Back "),e.qZA(),e.TgZ(43,"button",52),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submitForm3())}),e._uU(44," Purchase "),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Oqu(t.ctr1.title.value),e.xp6(10),e.Oqu(e.xi3(16,5,1100,"JPY")),e.xp6(9),e.Oqu(e.xi3(25,8,t.ctr3.subTotal.value,"JPY")),e.xp6(7),e.Oqu(e.xi3(32,11,t.ctr3.tax.value,"JPY")),e.xp6(7),e.Oqu(e.xi3(39,14,t.ctr3.total.value,"JPY"))}}function ve(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-message",61),e.NdJ("closed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.popup=!1)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("title",t.popupContent.title)("html",t.popupContent.html)("icon",t.popupContent.icon)("timer",t.popupContent.timer)}}let Ze=(()=>{class o{constructor(t,n,a){this.fb=t,this.spaceService=n,this.userCardService=a,this.faTimes=p.NBC,this.faPencil=p.TzT,this.stapleSvg=m.N.imageUrls.svg+"staple.svg",this.lockSvg=m.N.imageUrls.svg+"lock.svg",this.globalSvg=m.N.imageUrls.svg+"global.svg",this.cardLogo=m.N.imageUrls.logos+"logo-visa.png",this.closed=new e.vpe,this.step1={active:!0,title:"Create Space By Image",selects:{categories:[]},form:this.fb.group({title:["",[r.kI.required]],type:["2d"],image:[""],audio:[""],present:[""],author:[""],contactName:[""],contactEmail:[""],contactCountryCode:[""],contactPhoneNumber:[""],address:[""],url:[""],published:[""],summary:[""],category:["",[r.kI.required]]}),messages:{title:{required:"Space's title cannot be empty."},category:{required:"Please select category."}},shows:{contactName:!0,contactEmail:!0,contactPhone:!0,address:!0,url:!0,published:!0},submitted:!1},this.step2={active:!1,title:"Select Payment",form:this.fb.group({type:["",[r.kI.required]],holder:["",[r.kI.required]],number:["",[r.kI.required]],last4:[""],cvc:["",[r.kI.required]],expMonth:["",[r.kI.required]],expYear:["",[r.kI.required]]}),messages:{type:{required:"Type of card cannot be empty."},holder:{required:"Card's holder cannot be empty."},number:{required:"Card's number cannot be empty."},cvc:{required:"Card's security number is missing."},expMonth:{required:"Expire month is missing."},expYear:{required:"Expire year is missing."}},submitted:!1},this.step3={active:!1,title:"Purchase Space",form:this.fb.group({subTotal:[1100],tax:[88],total:[1188]})},this.title=this.step1.title,this.popup=!1,this.popupContent={icon:"",title:"",html:"",timer:void 0}}ngOnInit(){this.getCategories(),this.getCardInfo()}close(t){this.closed.emit(t||!1)}getCategories(){let t=this.spaceService.getCategories();this.step1.selects.categories=t.data}get form1(){return this.step1.form}get ctr1(){return this.form1.controls}isInvalid1(t){return(t.dirty||this.step1.submitted)&&t.invalid}get form2(){return this.step2.form}get ctr2(){return this.form2.controls}isInvalid2(t){return(t.dirty||this.step2.submitted)&&t.invalid}get form3(){return this.step3.form}get ctr3(){return this.form3.controls}goStep(t){switch(t){case 1:this.step1.active=!0,this.title=this.step1.title,this.step2.active=!1,this.step3.active=!1;break;case 2:this.step1.active=!1,this.step2.active=!0,this.title=this.step2.title,this.step3.active=!1;break;case 3:this.step1.active=!1,this.step2.active=!1,this.step3.active=!0,this.title=this.step3.title}}submitForm1(){this.step1.submitted=!0,this.form1.valid?this.goStep(2):(this.popup=!0,this.popupContent={icon:"error",title:"Invalid or missing information",html:"Please check all information and try again."})}getCardInfo(){let n=this.userCardService.getCard(this.user._id).data;switch(this.ctr2.type.setValue(n.type),this.ctr2.type.value){case"visa":this.cardLogo=m.N.imageUrls.logos+"logo-visa.png";break;case"master":this.cardLogo=m.N.imageUrls.logos+"logo-master-card.svg";break;case"jcb":this.cardLogo=m.N.imageUrls.logos+"logo-jcb.png"}this.ctr2.holder.setValue(n.holder),this.ctr2.number.setValue(n.cardNumber),this.ctr2.last4.setValue(n.last4),this.ctr2.expMonth.setValue(n.expire.month),this.ctr2.expYear.setValue(n.expire.year),this.ctr2.cvc.setValue(n.cvc)}submitForm2(){this.step2.submitted=!0,this.form2.valid?this.goStep(3):(this.popup=!0,this.popupContent={icon:"error",title:"Invalid or missing information",html:"Please check all information and try again."})}submitForm3(){this.close(!0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(b.E),e.Y36(S.f))},o.\u0275cmp=e.Xpm({type:o,selectors:[["modal-create-space-by-image"]],inputs:{user:"user"},outputs:{closed:"closed"},decls:10,vars:6,consts:[[3,"closed"],[1,"flex","flex-col","rounded-modal","px-[48px]","pt-[24px]","pb-[48px]","bg-black2"],[1,"text-right"],[1,"text-[28px]","text-black45","cursor-pointer",3,"icon","click"],[1,"modal-title","text-center","mb-8"],[3,"ngIf"],[1,"grow","flex","flex-col",3,"formGroup","submit"],[1,"grow","grid","grid-cols-1","lg:grid-cols-2","gap-x-8","gap-y-4","mb-8"],[1,"form-group-inline"],[1,"text-danger"],[1,"input-wrapper"],["type","text","formControlName","title","placeholder","My Space","spellcheck","false"],[1,"w-[65%]"],[1,"radio-input",3,"click"],[1,"input"],[1,"label"],["type","file","formControlName","image"],[1,"svg-wrapper","border-l","border-black15","pl-2","w-[20px]","h-[20px]"],[1,"svg","svg-staple","w-[16px]","h-[16px]"],["type","file","formControlName","audio"],[1,"px-2","border-l","border-black15",3,"src"],["type","text","formControlName","present","spellcheck","false"],["type","text","formControlName","author","spellcheck","false"],["type","text","formControlName","contactName","spellcheck","false"],[1,"svg-wrapper","w-[20px]","h-[20px]",3,"click"],["class","svg svg-lock w-[16px] h-[16px]",4,"ngIf"],["class","svg svg-global w-[16px] h-[16px]",4,"ngIf"],["type","email","formControlName","contactEmail","spellcheck","false"],["type","text","formControlName","contactPhoneNumber","spellcheck","false"],["type","text","formControlName","address","spellcheck","false"],["type","text","formControlName","url","spellcheck","false"],["type","datetime","formControlName","published"],["formControlName","summary"],["formControlName","category"],["value","","disabled","","hidden","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-main"],["class","text-danger text-right",4,"ngIf"],[1,"text-danger","text-right"],[1,"svg","svg-lock","w-[16px]","h-[16px]"],[1,"svg","svg-global","w-[16px]","h-[16px]"],[3,"value"],[1,"grow","flex","flex-col",3,"formGroup"],[1,"grow"],[1,"mb-4","text-center"],[1,"text-black45","hover:text-main",3,"routerLink"],[1,"rounded-modal","p-[16px]","shadow-light","flex","flex-col","uppercase","bg-white","tracking-wider","mb-8","min-h-[120px]","justify-between"],[1,"flex","justify-between","items-center"],[1,"text-black45"],[1,"w-[80px]",3,"src"],[1,"text-center"],["type","button",1,"btn","btn-white","mr-4",3,"click"],["type","submit",1,"btn","btn-main",3,"click"],[1,"grow","flex","flex-col","min-h-[280px]"],[1,"grow","flex","flex-col","justify-between","mb-8"],[1,"uppercase"],[1,"inline-flex","items-center"],[1,"svg-wrapper","w-[20px]","h-[20px]"],[1,"svg","svg-plan","w-[16px]","h-[16px]"],[1,"mb-2"],[1,"py-1","border-t","border-black15","flex","justify-between","items-center"],[3,"title","html","icon","timer","closed"]],template:function(t,n){1&t&&(e.TgZ(0,"modal-base",0),e.NdJ("closed",function(){return n.close()}),e.TgZ(1,"div",1)(2,"div",2)(3,"fa-icon",3),e.NdJ("click",function(){return n.close()}),e.qZA()(),e.TgZ(4,"p",4),e._uU(5),e.qZA(),e.YNc(6,fe,130,25,"ng-template",5),e.YNc(7,he,30,8,"ng-template",5),e.YNc(8,xe,45,17,"ng-template",5),e.qZA()(),e.YNc(9,ve,1,4,"ng-template",5)),2&t&&(e.xp6(3),e.Q6J("icon",n.faTimes),e.xp6(2),e.Oqu(n.title),e.xp6(1),e.Q6J("ngIf",1==n.step1.active),e.xp6(1),e.Q6J("ngIf",1==n.step2.active),e.xp6(1),e.Q6J("ngIf",1==n.step3.active),e.xp6(1),e.Q6J("ngIf",1==n.popup))},dependencies:[s.sg,s.O5,u.B,h.i,_.yS,f.BN,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,s.H9],styles:[".form-group-inline[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:35%}.form-group-inline[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:65%;margin-left:0}"]}),o})();var Ce=c(6781);const x=m.N.imageUrls.thumbnail,Te=[{_id:1,thumbnail:x+"space-size-1.png",width:6,length:8,total:48,detail:"<ul><li>\u793e\u54e1\u6905\u5b50\uff1a5\u500b</li><li>\u30c6\u30fc\u30d6\u30eb\uff1a2\u500b</li><li>\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc: 4\u53f0</li><li>\u30c9\u30a2\uff1a2\u679a</li><li>\u30d7\u30ea\u30f3\u30bf\u30fc\uff1a1\u53f0</li><li>\u4ed6\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a10\u500b</li></ul>"},{_id:2,thumbnail:x+"space-size-2.png",width:16,length:20,total:320,detail:"<ul><li>\u793e\u54e1\u6905\u5b50\uff1a5\u500b</li><li>\u30c6\u30fc\u30d6\u30eb\uff1a2\u500b</li><li>\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc: 4\u53f0</li><li>\u30c9\u30a2\uff1a2\u679a</li><li>\u30d7\u30ea\u30f3\u30bf\u30fc\uff1a1\u53f0</li><li>\u4ed6\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a10\u500b</li></ul>"},{_id:3,thumbnail:x+"space-size-3.png",width:20,length:36,total:640,detail:"<ul><li>\u793e\u54e1\u6905\u5b50\uff1a5\u500b</li><li>\u30c6\u30fc\u30d6\u30eb\uff1a2\u500b</li><li>\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc: 4\u53f0</li><li>\u30c9\u30a2\uff1a2\u679a</li><li>\u30d7\u30ea\u30f3\u30bf\u30fc\uff1a1\u53f0</li><li>\u4ed6\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a10\u500b</li></ul>"},{_id:4,thumbnail:x+"space-size-1.png",width:8,length:10,total:80,detail:"<ul><li>\u793e\u54e1\u6905\u5b50\uff1a5\u500b</li><li>\u30c6\u30fc\u30d6\u30eb\uff1a2\u500b</li><li>\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc: 4\u53f0</li><li>\u30c9\u30a2\uff1a2\u679a</li><li>\u30d7\u30ea\u30f3\u30bf\u30fc\uff1a1\u53f0</li><li>\u4ed6\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a10\u500b</li></ul>"},{_id:5,thumbnail:x+"space-size-2.png",width:10,length:50,total:500,detail:"<ul><li>\u793e\u54e1\u6905\u5b50\uff1a5\u500b</li><li>\u30c6\u30fc\u30d6\u30eb\uff1a2\u500b</li><li>\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc: 4\u53f0</li><li>\u30c9\u30a2\uff1a2\u679a</li><li>\u30d7\u30ea\u30f3\u30bf\u30fc\uff1a1\u53f0</li><li>\u4ed6\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a10\u500b</li></ul>"},{_id:6,thumbnail:x+"space-size-3.png",width:50,length:50,total:2500,detail:"<ul><li>\u793e\u54e1\u6905\u5b50\uff1a5\u500b</li><li>\u30c6\u30fc\u30d6\u30eb\uff1a2\u500b</li><li>\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc: 4\u53f0</li><li>\u30c9\u30a2\uff1a2\u679a</li><li>\u30d7\u30ea\u30f3\u30bf\u30fc\uff1a1\u53f0</li><li>\u4ed6\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a10\u500b</li></ul>"}];let we=(()=>{class o{constructor(){}fill(t,n){let a=[];for(let l=t;l<=n;l++)a.push(l);return a}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var ye=c(5546);function Ie(o,i){if(1&o&&(e.TgZ(0,"p",11)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(t.step1.msg.title.required)}}function qe(o,i){if(1&o&&(e.TgZ(0,"div",10),e.YNc(1,Ie,3,1,"p",25),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.ctr1.title.errors?null:t.ctr1.title.errors.required)}}function ke(o,i){if(1&o&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Pe(o,i){if(1&o&&(e.TgZ(0,"p",11)(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.step1.msg.serviceType.required," ")}}function Ae(o,i){if(1&o&&(e.TgZ(0,"div",10),e.YNc(1,Pe,3,1,"p",25),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.ctr1.serviceType.errors?null:t.ctr1.serviceType.errors.required)}}function Me(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",5),e.NdJ("submit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submitForm1())}),e.TgZ(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"label",10)(6,"p"),e._uU(7,"Space Title "),e.TgZ(8,"span",11),e._uU(9,"*"),e.qZA()()(),e.TgZ(10,"div",12),e._UZ(11,"input",13),e.qZA()(),e.YNc(12,qe,2,1,"ng-template",4),e.qZA(),e.TgZ(13,"div",8)(14,"div",9)(15,"label",10)(16,"p"),e._uU(17,"Image"),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"input",14),e.qZA()()(),e.TgZ(20,"div",8)(21,"div",9)(22,"label",10)(23,"p"),e._uU(24,"Service Type "),e.TgZ(25,"span",11),e._uU(26,"*"),e.qZA()()(),e.TgZ(27,"div",12)(28,"select",15)(29,"option",16),e._uU(30," Select service type "),e.qZA(),e.YNc(31,ke,2,1,"option",17),e.qZA()()(),e.YNc(32,Ae,2,1,"ng-template",4),e.qZA(),e.TgZ(33,"div",8)(34,"div",9)(35,"label",10)(36,"p"),e._uU(37,"Description"),e.qZA()(),e.TgZ(38,"div",18)(39,"textarea",19),e._uU(40,"                  "),e.qZA()()()()(),e.TgZ(41,"div",20),e._UZ(42,"img",21),e.qZA()(),e.TgZ(43,"div",22)(44,"button",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e._uU(45," Close "),e.qZA(),e.TgZ(46,"button",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submitForm1())}),e._uU(47," Next "),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.form1),e.xp6(10),e.ekj("input-invalid",t.isCtr1Invalid(t.ctr1.title)),e.xp6(2),e.Q6J("ngIf",t.isCtr1Invalid(t.ctr1.title)),e.xp6(15),e.ekj("input-invalid",t.isCtr1Invalid(t.ctr1.title)),e.xp6(1),e.ekj("border-red",t.isCtr1Invalid(t.ctr1.serviceType)),e.xp6(3),e.Q6J("ngForOf",t.step1.selects.serviceTypes),e.xp6(1),e.Q6J("ngIf",t.isCtr1Invalid(t.ctr1.serviceType)),e.xp6(10),e.Q6J("src",t.step1.defaultImage,e.LSH)}}function Ue(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"slider-create-space",34),e.NdJ("space",function(a){e.CHM(t);const l=e.oxw(2);return e.KtG(l.catchSliderValue(a))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("items",t.step2.selects.sizes)}}function Se(o,i){if(1&o&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.s9C("value",t),e.xp6(1),e.hij(" ",t," ")}}function Je(o,i){if(1&o&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.s9C("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ne(o,i){if(1&o&&(e.TgZ(0,"div",35)(1,"p",36),e._uU(2," Please select the width and length of the space: "),e.qZA(),e.TgZ(3,"div",37)(4,"div")(5,"div",38)(6,"label",22),e._uU(7,"Width (m)"),e.qZA(),e.TgZ(8,"div",29)(9,"select",39),e.YNc(10,Se,2,2,"option",40),e.qZA()()(),e.TgZ(11,"div",38)(12,"label",22),e._uU(13,"Length (m)"),e.qZA(),e.TgZ(14,"div",29)(15,"select",41),e.YNc(16,Je,2,2,"option",40),e.qZA()()(),e.TgZ(17,"p",42),e._uU(18,"The height is fixed at 3m."),e.qZA()(),e.TgZ(19,"div",43),e._UZ(20,"img",44),e.TgZ(21,"span",45)(22,"strong"),e._uU(23),e.qZA()(),e.TgZ(24,"span",46)(25,"strong"),e._uU(26),e.qZA()(),e.TgZ(27,"span",47)(28,"strong"),e._uU(29,"3m"),e.qZA()()()(),e.TgZ(30,"div",48)(31,"p",49),e._uU(32),e.qZA(),e.TgZ(33,"p",50),e._uU(34," Square: "),e.TgZ(35,"strong"),e._uU(36),e.TgZ(37,"sup"),e._uU(38,"2"),e.qZA()()()()()),2&o){const t=e.oxw(2);e.xp6(10),e.Q6J("ngForOf",t.step2.selects.widths),e.xp6(6),e.Q6J("ngForOf",t.step2.selects.widths),e.xp6(4),e.Q6J("src",t.step2.cubeViewImage,e.LSH),e.xp6(3),e.hij("",t.ctr2.width.value,"m"),e.xp6(3),e.hij("",t.ctr2.length.value,"m"),e.xp6(6),e.AsE(" The space will be created with length = ",t.ctr2.length.value,"m and width = ",t.ctr2.width.value,"m. "),e.xp6(4),e.hij("",t.ctr2.length.value*t.ctr2.width.value,"m")}}function Qe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",26)(1,"div",27)(2,"div",28),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.ctr2.createBy.setValue("template"))}),e.TgZ(3,"div",29),e._UZ(4,"div",30),e.qZA(),e.TgZ(5,"p",31),e._uU(6,"Create By Template"),e.qZA()(),e.TgZ(7,"div",32),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.ctr2.createBy.setValue("self"))}),e.TgZ(8,"div",29),e._UZ(9,"div",30),e.qZA(),e.TgZ(10,"p",31),e._uU(11,"Create By Myself"),e.qZA()()(),e.YNc(12,Ue,1,1,"ng-template",4),e.YNc(13,Ne,39,8,"ng-template",4),e.TgZ(14,"div",33)(15,"button",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.backStep1())}),e._uU(16," Back "),e.qZA(),e.TgZ(17,"button",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submitForm2())}),e._uU(18," Finish "),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.form2),e.xp6(4),e.ekj("checked","template"==t.ctr2.createBy.value),e.xp6(5),e.ekj("checked","self"==t.ctr2.createBy.value),e.xp6(3),e.Q6J("ngIf","template"==t.ctr2.createBy.value),e.xp6(1),e.Q6J("ngIf","self"==t.ctr2.createBy.value)}}let Ye=(()=>{class o extends u.B{constructor(t,n,a,l){super(),this.fb=t,this.popup=n,this.arrayService=a,this.spaceService=l,this.faTimes=p.NBC,this.user=Ce.uv,this.static=!1,this.closed=new e.vpe,this.step1={active:!0,title:"Create Space",selects:{serviceTypes:Q.b},form:this.fb.group({title:["",[r.kI.required]],serviceType:["",[r.kI.required]],image:[""],description:[""]}),msg:{title:{required:"Space title cannot by empty."},serviceType:{required:"Please select space service type."}},submitted:!1,defaultImage:m.N.imageUrls.space+"restaurant.png"},this.step2={active:!1,title:"Select Space's Size",selects:{createBy:["template","self"],sizes:Te,widths:this.arrayService.fill(8,50),lengths:this.arrayService.fill(8,50)},form:this.fb.group({createBy:["template"],width:[8,[r.kI.required]],length:[10,[r.kI.required]]}),msg:{width:{required:"Please set space width."},length:{required:"Please set space length."}},submitted:!1,swiperConfig:{slidesPerView:3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},spaceBetween:0},cubeViewImage:m.N.imageUrls.svg+"cube-view.svg"},this.modalTitle=this.step1.title}close(t){this.closed.emit(t)}get form1(){return this.step1.form}get form2(){return this.step2.form}get ctr1(){return this.form1.controls}isCtr1Invalid(t){return(t.dirty||this.step1.submitted)&&t.invalid}get ctr2(){return this.form2.controls}isCtr2Invalid(t){return t.dirty||this.step2.submitted&&t.invalid}backStep1(){this.step2.active=!1,this.step1.active=!0,this.modalTitle=this.step1.title}submitForm1(){this.step1.submitted=!0,this.form1.valid?(this.step1.active=!1,this.step2.active=!0,this.modalTitle=this.step2.title):this.popup.error({title:"Invalid or missing info",html:"Please check all information and try again."})}catchSliderValue(t){this.ctr2.width.setValue(t.width),this.ctr2.length.setValue(t.length)}submitForm2(){this.step2.submitted=!0,this.form2.valid?201==this.spaceService.createSpace({title:this.ctr1.title.value,serviceType:this.ctr1.serviceType.value,image:this.ctr1.image.value?this.ctr1.image.value:void 0,description:this.ctr1.description.value?this.ctr1.description.value:"",width:this.ctr2.width.value,length:this.ctr2.length.value}).status&&(this.popup.success({title:"New Space Created"}),this.close(!0)):this.popup.error({title:"Invalid or missing info",html:"Please check all information and try again."})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(C.D),e.Y36(we),e.Y36(b.E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["modal-create-space"]],inputs:{user:"user",static:"static"},outputs:{closed:"closed"},features:[e.qOj],decls:7,vars:4,consts:[[3,"static","closed"],[1,"flex","flex-col","py-pyModalSm","px-pxModalSm","md:py-pyModalMd","md:px-pxModalMd","lg:py-pyModalLg","lg:px-pxModalLg","xl:py-pyModalXl","xl:px-pxModalXl","bg-black2","rounded-modal"],[1,"mb-4","md:mb-6","xl:mb-8","text-center"],[1,"modal-title"],[3,"ngIf"],[1,"grow","flex-col",3,"formGroup","submit"],[1,"flex","flex-col","lg:flex-row","justify-center","mb-8"],[1,"flex","flex-col","justify-between"],[1,"mb-4"],[1,"form-group-inline"],[1,"text-right"],[1,"text-danger"],[1,"input-wrapper","w-[235px]","shrink-0"],["type","text","formControlName","title","spellcheck","false","placeholder","My Awesome Space"],["type","file","formControlName","image"],["formControlName","serviceType"],["value","","hidden","","selected","","disabled",""],[4,"ngFor","ngForOf"],[1,"input-wrapper","w-[235px]","min-h-[123px]","shrink-0"],["formControlName","description","spellcheck","false","placeholder","This space was created by Empaty"],[1,"shrink-0","lg:shrink","text-center","pl-8"],[1,"inline-block","w-[180px]","lg:w-full",3,"src"],[1,"text-center","lg:text-right"],["type","button",1,"btn","btn-white","mr-4",3,"click"],["type","submit",1,"btn","btn-main",3,"click"],["class","text-danger",4,"ngIf"],[1,"grow","flex","flex-col",3,"formGroup"],[1,"flex","flex-col","items-start","justify-around","lg:flex-row","lg:items-center","mb-9"],[1,"radio-input","mb-3","lg:mb-0",3,"click"],[1,"input-wrapper"],[1,"input"],[1,"label"],[1,"radio-input",3,"click"],[1,"flex","justify-center","lg:justify-end","items-center"],[1,"mb-8",3,"items","space"],[1,"flex","flex-col"],[1,"text-center","mb-4"],[1,"pb-12","mb-2","border-b-2","border-black15","flex","flex-col","lg:flex-row","justify-around","items-center"],[1,"form-group-inline","mb-4"],["formControlName","width",1,"min-w-[75px]"],[3,"value",4,"ngFor","ngForOf"],["formControlName","length",1,"min-w-[75px]"],[1,"text-black45"],[1,"relative","mt-8","lg:mt-0","mx-8","lg:mx-0","px-4"],[3,"src"],[1,"absolute","-bottom-1"],[1,"absolute","-bottom-1","right-1/4"],[1,"absolute","-right-8","top-1/2"],[1,"flex","flex-col","lg:flex-row","justify-between","items-center","mb-4"],[1,"text-center","lg:text-left"],[1,"text-[24px]"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"modal-base",0),e.NdJ("closed",function(l){return n.close(l)}),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA()(),e.YNc(5,Me,48,11,"ng-template",4),e.YNc(6,Qe,19,7,"ng-template",4),e.qZA()()),2&t&&(e.Q6J("static",n.static),e.xp6(4),e.Oqu(n.modalTitle),e.xp6(1),e.Q6J("ngIf",1==n.step1.active),e.xp6(1),e.Q6J("ngIf",1==n.step2.active))},dependencies:[s.sg,s.O5,u.B,ye.m,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u]}),o})();function Oe(o,i){if(1&o&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.s9C("value",t.user._id),e.xp6(1),e.hij(" ",t.user.email," ")}}function Fe(o,i){1&o&&(e.TgZ(0,"div",24)(1,"p"),e._uU(2,"Please select a user."),e.qZA()())}function Ee(o,i){if(1&o&&e.YNc(0,Fe,3,0,"div",23),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.ctr.email.errors?null:t.ctr.email.errors.required)}}let je=(()=>{class o extends u.B{constructor(t,n){super(),this.fb=t,this.popup=n,this.closed=new e.vpe,this.space="",this.collaborators=[],this.static=!1,this.form=this.fb.group({space:["",[r.kI.required]],email:["",[r.kI.required]],role:["view"]}),this.submitted=!1}close(){this.closed.emit(!1)}get ctr(){return this.form.controls}isCtrInvalid(t){return(t.dirty||this.submitted)&&t.invalid}submitForm(){this.submitted=!0,this.ctr.space.setValue(this.space._id),this.form.valid?(this.closed.emit(!0),this.popup.success({title:"Collaborator addedd"})):this.popup.error({title:"Missing or invalid infomation",html:"Please check all information and try again."})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(C.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["modal-add-collaborator"]],inputs:{space:"space",collaborators:"collaborators",static:"static"},outputs:{closed:"closed"},features:[e.qOj],decls:41,vars:10,consts:[[3,"static","closed"],[1,"rounded-modal","bg-black2","p-8","flex","flex-col"],[1,"text-center","mb-6"],[1,"modal-title"],[1,"grow","flex-col",3,"formGroup"],[1,"grow"],[1,"flex","flex-col","mb-6"],[1,"mb-2"],[1,"text-danger"],[1,"mb-2","rounded","border","border-black15","w-full"],["formControlName","email",1,"p-2","w-[290px]"],["value","","hidden","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngIf"],[1,"flex","flex-wrap"],[1,"radio-input",3,"click"],[1,"input-wrapper"],[1,"input"],[1,"label"],[1,"flex","justify-center","items-center"],["type","button",1,"btn","btn-white","mr-4",3,"click"],["type","submit",1,"btn","btn-main",3,"click"],[3,"value"],["class","text-danger text-right",4,"ngIf"],[1,"text-danger","text-right"]],template:function(t,n){1&t&&(e.TgZ(0,"modal-base",0),e.NdJ("closed",function(){return n.close()}),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"Add User"),e.qZA()(),e.TgZ(5,"form",4)(6,"div",5)(7,"div",6)(8,"label",7)(9,"strong"),e._uU(10,"Email "),e.TgZ(11,"span",8),e._uU(12,"*"),e.qZA()()(),e.TgZ(13,"div",9)(14,"select",10)(15,"option",11),e._uU(16,"Select user"),e.qZA(),e.YNc(17,Oe,2,2,"option",12),e.qZA()(),e.YNc(18,Ee,1,1,"ng-template",13),e.qZA(),e.TgZ(19,"div",6)(20,"label",7)(21,"strong"),e._uU(22,"Role "),e.TgZ(23,"span",8),e._uU(24,"*"),e.qZA()()(),e.TgZ(25,"div",14)(26,"div",15),e.NdJ("click",function(){return n.ctr.role.setValue("view")}),e.TgZ(27,"div",16),e._UZ(28,"div",17),e.qZA(),e.TgZ(29,"div",18),e._uU(30,"Can View"),e.qZA()(),e.TgZ(31,"div",15),e.NdJ("click",function(){return n.ctr.role.setValue("edit")}),e.TgZ(32,"div",16),e._UZ(33,"div",17),e.qZA(),e.TgZ(34,"div",18),e._uU(35,"Can Edit"),e.qZA()()()()(),e.TgZ(36,"div",19)(37,"button",20),e.NdJ("click",function(){return n.close()}),e._uU(38," Cancel "),e.qZA(),e.TgZ(39,"button",21),e.NdJ("click",function(){return n.submitForm()}),e._uU(40," Confirm "),e.qZA()()()()()),2&t&&(e.Q6J("static",n.static),e.xp6(5),e.Q6J("formGroup",n.form),e.xp6(8),e.ekj("input-invalid",n.isCtrInvalid(n.ctr.email)),e.xp6(4),e.Q6J("ngForOf",n.collaborators),e.xp6(1),e.Q6J("ngIf",n.isCtrInvalid(n.ctr.email)),e.xp6(10),e.ekj("checked","view"==n.ctr.role.value),e.xp6(5),e.ekj("checked","edit"==n.ctr.role.value))},dependencies:[s.sg,s.O5,u.B,r._Y,r.YN,r.Kr,r.EJ,r.JJ,r.JL,r.sg,r.u]}),o})(),Le=(()=>{class o extends u.B{constructor(t,n){super(),this.spaceService=t,this.popup=n,this.static=!1}close(t){super.close(t||!1)}confirmDelete(){try{200==this.spaceService.deleteSpace(this.space._id).status&&(this.popup.success({title:"Space deleted"}),this.close(!0))}catch(t){this.popup.error({title:"Can't delete space",html:t})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.E),e.Y36(C.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["modal-delete-space"]],inputs:{static:"static",space:"space"},features:[e.qOj],decls:13,vars:1,consts:[[3,"static"],[1,"flex","flex-col","bg-black2","p-8","rounded-modal"],[1,"text-center","pb-3","mb-3","border-b","border-black15"],[1,"modal-title"],[1,"mb-3","text-center"],[1,"text-center"],["type","button",1,"btn","btn-white","mr-4",3,"click"],["type","button",1,"btn","btn-main",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"modal-base",0)(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"Confirm Delete"),e.qZA()(),e.TgZ(5,"div",4)(6,"p"),e._uU(7,"Do you really want to delete this space?"),e.qZA()(),e.TgZ(8,"div",5)(9,"button",6),e.NdJ("click",function(){return n.close()}),e._uU(10," Cancel "),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(){return n.confirmDelete()}),e._uU(12," Yes, delete it. "),e.qZA()()()()),2&t&&e.Q6J("static",n.static)},dependencies:[u.B]}),o})(),A=(()=>{class o{constructor(){}isControlInvalid(t,n){return(t.dirty||n)&&t.invalid}isCtrHasError(t,n){return t.errors?.[n]}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Be(o,i){if(1&o&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.messages.title.required)}}function He(o,i){if(1&o&&(e.TgZ(0,"div",9),e.YNc(1,Be,2,1,"span",25),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr.title,"required"))}}function Ge(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-message",26),e.NdJ("closed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.togglePopup())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("title",t.popupContent.title)("html",t.popupContent.html)("icon",t.popupContent.icon)("timer",t.popupContent.timer)}}let Ke=(()=>{class o{constructor(t,n,a){this.fb=t,this.fs=n,this.spaceSerivce=a,this.closed=new e.vpe,this.editForm=this.fb.group({_id:["",[r.kI.required]],title:["",[r.kI.required]],url:[""],image:[""],summary:[""]}),this.messages={title:{required:"Space's title cannot be empty."}},this.submitted=!1,this.popup=!1,this.popupContent={title:"",html:"",icon:"",timer:void 0}}ngOnInit(){this.transferSpaceToForm()}close(t){this.closed.emit(t||!1)}setImage(t){this.image=t}transferSpaceToForm(){console.log("this.space: ",this.space),this.space&&(this.ctr._id.setValue(this.space._id),this.ctr.title.setValue(this.space.title),this.ctr.url.setValue(this.space.url),this.ctr.image.setValue(this.space.thumbnail),this.ctr.summary.setValue(this.space.summary),this.image=this.space.thumbnail?this.space.thumbnail:m.N.imageUrls.none)}get ctr(){return this.editForm.controls}submitForm(){if(this.submitted=!0,this.editForm.valid)try{200==this.spaceSerivce.updateSpace(this.editForm.value).status&&(this.togglePopup({title:"Space updated !",icon:"success",timer:1500}),setTimeout(()=>{this.close(!0)},1600))}catch(t){this.togglePopup({title:"Can't update space",html:"Error when updating space: "+t,icon:"error"})}else this.togglePopup({title:"Can't update space",html:"Some info is missing or invalid. Please check all information and try again.",icon:"error"})}togglePopup(t){this.popup=!!t,this.popupContent={title:t&&t.title?t.title:"",html:t&&t.html?t.html:"",icon:t&&t.icon?t.icon:"",timer:t&&t.timer?t.timer:void 0}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(A),e.Y36(b.E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["modal-edit-space"]],inputs:{space:"space"},outputs:{closed:"closed"},decls:51,vars:7,consts:[[3,"closed"],[1,"flex","flex-col","p-[48px]","bg-white","rounded-modal"],[1,"text-center","mb-4"],[1,"modal-title"],[1,"grow","flex","flex-col",3,"formGroup","submit"],[1,"grow","flex","flex-col","lg:flex-row","mb-4"],[1,"pr-4","mb-4","lg:mb-0"],[1,"mb-4"],[1,"form-group-inline"],[1,"text-right"],[1,"text-danger"],[1,"input-wrapper","shrink-0","grow-0","w-[240px]"],["type","text","formControlName","title","spellcheck","false"],[3,"ngIf"],["type","file","formControlName","image","spellcheck","false"],[1,"ml-2","pl-2","border-l","border-black15","svg-wrapper","w-[20px]","h-[20px]"],[1,"svg","svg-staple","w-[18px]","h-[18px]"],["type","text","formControlName","url","spellcheck","false"],[1,"svg","svg-lock","w-[18px]","h-[18px]"],["formControlName","summary","spellcheck","false"],[1,"text-right","w-full","lg:w-[240px]"],[1,"inline-block",3,"src","alt"],[1,"text-center"],["type","button","c","",1,"btn","btn-white","mr-4",3,"click"],["type","submit",1,"btn","btn-main",3,"click"],["class","text-danger",4,"ngIf"],[3,"title","html","icon","timer","closed"]],template:function(t,n){1&t&&(e.TgZ(0,"modal-base",0),e.NdJ("closed",function(){return n.close()}),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"Edit Space"),e.qZA()(),e.TgZ(5,"form",4),e.NdJ("submit",function(){return n.submitForm()}),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9)(11,"strong"),e._uU(12,"Space Title "),e.TgZ(13,"span",10),e._uU(14,"*"),e.qZA()()(),e.TgZ(15,"div",11),e._UZ(16,"input",12),e.qZA()(),e.YNc(17,He,2,1,"ng-template",13),e.qZA(),e.TgZ(18,"div",7)(19,"div",8)(20,"label",9)(21,"strong"),e._uU(22,"Image "),e.qZA()(),e.TgZ(23,"div",11),e._UZ(24,"input",14),e.TgZ(25,"div",15),e._UZ(26,"div",16),e.qZA()()()(),e.TgZ(27,"div",7)(28,"div",8)(29,"label",9)(30,"strong"),e._uU(31,"Public URL"),e.qZA()(),e.TgZ(32,"div",11),e._UZ(33,"input",17),e.TgZ(34,"div",15),e._UZ(35,"div",18),e.qZA()()()(),e.TgZ(36,"div",7)(37,"div",8)(38,"label",9)(39,"strong"),e._uU(40,"Summary"),e.qZA()(),e.TgZ(41,"div",11),e._UZ(42,"textarea",19),e.qZA()()()(),e.TgZ(43,"div",20),e._UZ(44,"img",21),e.qZA()(),e.TgZ(45,"div",22)(46,"button",23),e.NdJ("click",function(){return n.close()}),e._uU(47," Cancel "),e.qZA(),e.TgZ(48,"button",24),e.NdJ("click",function(){return n.submitForm()}),e._uU(49," Save Change "),e.qZA()()()()(),e.YNc(50,Ge,1,4,"ng-template",13)),2&t&&(e.xp6(5),e.Q6J("formGroup",n.editForm),e.xp6(10),e.ekj("input-invalid",n.fs.isControlInvalid(n.ctr.title,n.submitted)),e.xp6(2),e.Q6J("ngIf",n.fs.isControlInvalid(n.ctr.title,n.submitted)),e.xp6(27),e.Q6J("src",n.image,e.LSH)("alt",n.space.title),e.xp6(6),e.Q6J("ngIf",1==n.popup))},dependencies:[s.O5,u.B,h.i,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),o})(),Xe=(()=>{class o extends u.B{constructor(){super(...arguments),this.static=!1}makePayment(){super.close(!0)}}return o.\u0275fac=function(){let i;return function(n){return(i||(i=e.n5z(o)))(n||o)}}(),o.\u0275cmp=e.Xpm({type:o,selectors:[["modal-pay-space"]],inputs:{space:"space",static:"static"},features:[e.qOj],decls:15,vars:1,consts:[[3,"static"],[1,"flex","flex-col","bg-black2","p-8","rounded-modal"],[1,"text-center","pb-3","mb-3","border-b","border-black15"],[1,"modal-title"],[1,"mb-3","grow","text-center"],[1,"text-center"],["type","button",1,"btn","btn-white","mr-4",3,"click"],["type","button",1,"btn","btn-main",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"modal-base",0)(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"Payment Require"),e.qZA()(),e.TgZ(5,"div",4)(6,"p"),e._uU(7,"This space hasn't completed paid yet."),e.qZA(),e.TgZ(8,"p"),e._uU(9,"Would you like to make payment now?"),e.qZA()(),e.TgZ(10,"div",5)(11,"button",6),e.NdJ("click",function(){return n.close()}),e._uU(12," Cancel "),e.qZA(),e.TgZ(13,"button",7),e.NdJ("click",function(){return n.makePayment()}),e._uU(14," Yes, please ! "),e.qZA()()()()),2&t&&e.Q6J("static",n.static)},dependencies:[u.B]}),o})();function De(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.space.paid?"":a.toggleModal("make-payment"))}),e._UZ(2,"div",17),e.qZA(),e.BQk()}}function Ve(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.space.paid?"":a.toggleModal("make-payment"))}),e._UZ(1,"div",18),e.qZA()}}function ze(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-add-collaborator",19),e.NdJ("closed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleModal("add-collaborator"))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("space",t.space)("collaborators",t.collaborators)("static",!1)}}function $e(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-pay-space",20),e.NdJ("closed",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.catchMakePayment(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("space",t.space)}}function Re(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-edit-space",20),e.NdJ("closed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleModal("edit"))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("space",t.space)}}function We(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-delete-space",20),e.NdJ("closed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleModal("delete"))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("space",t.space)}}const O=function(o){return[o]},et=function(){return["/member/products"]};let tt=(()=>{class o{constructor(t){this.router=t,this.collaborators=[],this.modals={store:!1,makePayment:!1,addCollaborator:!1,edit:!1,delete:!1},this.icons={user:p.ILF,edit:p.TzT,trash:p.Vui,share:p.DrL,private:p.byT,public:p._1N},this.svgUrl=m.N.imageUrls.svg,this.svgs={store:this.svgUrl+"store.svg",storeColor:this.svgUrl+"store-color.svg",lock:this.svgUrl+"lock.svg",lockColor:this.svgUrl+"lock-color.svg",unlock:this.svgUrl+"unlock.svg",unlockColor:this.svgUrl+"unlock-color.svg",addCollaborator:this.svgUrl+"add-collaborator.svg",addCollaboratorColor:this.svgUrl+"add-collaborator-color.svg",edit:this.svgUrl+"edit.svg",editColor:this.svgUrl+"edit-color.svg",delete:this.svgUrl+"trash.svg",deleteColor:this.svgUrl+"trash-color.svg"}}ngOnInit(){this.setNoImage(),this.setLink()}setLink(){this.space.link="member/space/"+this.space._id}setNoImage(){this.space.thumbnail||(this.space.thumbnail=m.N.imageUrls.space+"no-image.png")}toggleModal(t){switch(t){case"make-payment":this.modals.makePayment=!this.modals.makePayment;break;case"add-collaborator":this.modals.addCollaborator=!this.modals.addCollaborator;break;case"edit":this.modals.edit=!this.modals.edit;break;case"delete":this.modals.delete=!this.modals.delete}}catchMakePayment(t){0!=t&&this.router.navigate(["/member/order-space"]),this.toggleModal("make-payment")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-item-space-large"]],inputs:{space:"space",collaborators:"collaborators"},decls:29,vars:26,consts:[[1,"w-full","flex","flex-col","flex-wrap","md:flex-row","items-center"],[1,"grow","justify-center","items-center","mr-0","mb-4","flex","md:mr-6","md:mb-0","md:inline-flex","md:grow-0","md:w-itemSpaceWidthLg",3,"routerLink"],[1,"w-itemSpaceWidthLg","h-itemSpaceHeightLg",3,"src"],[1,"grow","mr-0","mb-4","px-4","md:mb-0","md:mr-10","md:px-0"],[1,"text-xl","hover:text-main","uppercase","font-semibold",3,"routerLink"],[1,"text-greyDark"],[1,"capitalize"],[1,"grow","inline-flex","justify-end","items-center"],[1,"svg-wrapper","w-[45px]","h-[45px]",3,"routerLink"],[1,"svg","svg-store","w-[20px]","h-[20px]"],[4,"ngIf","ngIfElse"],["private",""],[1,"svg-wrapper","w-[45px]","h-[45px]",3,"click"],[1,"svg","svg-add-collaborator","w-[20px]","h-[20px]"],[1,"svg","svg-edit","w-[20px]","h-[20px]"],[1,"svg","svg-trash","w-[20px]","h-[20px]"],[3,"ngIf"],[1,"svg","svg-lock","w-[20px]","h-[20px]"],[1,"svg","svg-unlock","w-[20px]","h-[20px]"],[3,"space","collaborators","static","closed"],[3,"space","closed"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"a",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"a",4),e._uU(5),e.qZA(),e.TgZ(6,"p",5),e._uU(7),e.ALo(8,"date"),e.TgZ(9,"span",6),e._uU(10),e.qZA()(),e.TgZ(11,"p",5),e._uU(12),e.qZA()(),e.TgZ(13,"div",7)(14,"a",8),e._UZ(15,"div",9),e.qZA(),e.YNc(16,De,3,0,"ng-container",10),e.YNc(17,Ve,2,0,"ng-template",null,11,e.W1O),e.TgZ(19,"div",12),e.NdJ("click",function(){return n.toggleModal("add-collaborator")}),e._UZ(20,"div",13),e.qZA(),e.TgZ(21,"div",12),e.NdJ("click",function(){return n.toggleModal("edit")}),e._UZ(22,"div",14),e.qZA(),e.TgZ(23,"div",12),e.NdJ("click",function(){return n.toggleModal("delete")}),e._UZ(24,"div",15),e.qZA()()(),e.YNc(25,ze,1,3,"ng-template",16),e.YNc(26,$e,1,1,"ng-template",16),e.YNc(27,Re,1,1,"ng-template",16),e.YNc(28,We,1,1,"ng-template",16)),2&t){const a=e.MAs(18);e.xp6(1),e.Q6J("routerLink",e.VKq(21,O,n.space.link)),e.xp6(1),e.Q6J("src",n.space.thumbnail,e.LSH),e.xp6(2),e.Q6J("routerLink",e.VKq(23,O,n.space.link)),e.xp6(1),e.hij(" ",n.space.title," "),e.xp6(2),e.AsE(" Update on ",e.xi3(8,18,n.space.updatedAt,"yyyy.MM.dd")," by ",n.space.author," | Status: "),e.xp6(3),e.Oqu(n.space.status),e.xp6(2),e.HOy(" Service Type: ",n.space.serviceType.name," | Space size: ",n.space.size.width,"mx",n.space.size.length,"m ",n.space.size.width*n.space.size.length,"m2 "),e.xp6(2),e.Q6J("routerLink",e.DdM(25,et)),e.xp6(2),e.Q6J("ngIf","published"==n.space.status)("ngIfElse",a),e.xp6(9),e.Q6J("ngIf",1==n.modals.addCollaborator),e.xp6(1),e.Q6J("ngIf",1==n.modals.makePayment),e.xp6(1),e.Q6J("ngIf",1==n.modals.edit),e.xp6(1),e.Q6J("ngIf",1==n.modals.delete)}},dependencies:[s.O5,_.yS,je,Le,Ke,Xe,s.uU]}),o})();function ot(o,i){if(1&o&&(e.TgZ(0,"div",4),e._UZ(1,"partial-item-space-large",5),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("space",t)("collaborators",n.collaborators)}}function nt(o,i){if(1&o&&(e.ynx(0),e.YNc(1,ot,2,2,"div",3),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.spaces)}}function it(o,i){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.msg.noSpace)}}let at=(()=>{class o{constructor(){this.spaces=[],this.collaborators=[],this.msg={noSpace:"You have no space yet."}}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-section-spaces-large"]],inputs:{spaces:"spaces",collaborators:"collaborators"},decls:4,vars:2,consts:[[1,"w-full","h-[800px]","overflow-y-auto","partial-section-spaces-large"],[4,"ngIf","ngIfElse"],["noSpace",""],["class","py-8 px-9 border-t border-black45 space",4,"ngFor","ngForOf"],[1,"py-8","px-9","border-t","border-black45","space"],[3,"space","collaborators"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,nt,2,1,"ng-container",1),e.YNc(2,it,2,1,"ng-template",null,2,e.W1O),e.qZA()),2&t){const a=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.spaces&&n.spaces.length>0)("ngIfElse",a)}},dependencies:[s.sg,s.O5,tt],styles:[".partial-section-spaces-large[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.partial-section-spaces-large[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:16px}.partial-section-spaces-large[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8c8c8c;border-radius:16px}"]}),o})();function rt(o,i){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.s9C("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function lt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-create-space",21),e.NdJ("closed",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.catchModalCreateSpace(a))}),e.qZA()}2&o&&e.Q6J("static",!0)}function st(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-create-space-by-image",22),e.NdJ("closed",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.catchModalCreateSpaceImage(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("user",t.user)}}function ct(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-message",23),e.NdJ("closed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleModal("popup"))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("timer",t.popupContent.timer)("title",t.popupContent.title)("html",t.popupContent.html)("icon",t.popupContent.icon)}}let pt=(()=>{class o{constructor(t,n,a,l,g){this.spaceService=t,this.popupService=n,this.authService=a,this.collabService=l,this.seo=g,this.faSearch=p.Y$T,this.iconUrl=m.N.imageUrls.icon,this.svgUrl=m.N.imageUrls.svg,this.spaceIcon=this.iconUrl+"space.png",this.spaceIconColor=this.iconUrl+"space-color.png",this.xCircleIcon=this.svgUrl+"x-circle.svg",this.addSpaceByImageIcon=this.svgUrl+"add-space-by-image.svg",this.addSpaceByEditorIcon=this.svgUrl+"add-space-by-editor.svg",this.spaces=[],this.limit=10,this.search={serviceType:"",keyword:""},this.pagination={pages:1,currentPage:1},this.modals={createSpace:!1,createSpaceImage:!1},this.collaborators=[],this.popup=!1,this.popupContent={icon:"",title:"",html:"",timer:void 0}}ngOnInit(){this.setSEO(),this.getUser(),this.loadServiceTypes(),this.searchSpacesNoLimit(),this.loadCollaborators()}setSEO(){this.seo.setTitle("Company Spaces")}getUser(){this.user=this.authService.getUserDecoded()}loadSpaces(t){try{let n=this.spaceService.getSpaces(t);this.spaces=[],this.spaces=n.data,this.pagination.pages=n.pages,this.pagination.currentPage=t&&t.page?t.page:1}catch(n){this.popupService.error({title:"Load spaces failed",html:n})}}loadServiceTypes(){this.serviceTypes=Q.b}loadCollaborators(){try{let t=this.authService.getUserDecoded()._id,n=this.collabService.getCollaborators(t);this.collaborators=n.data}catch(t){console.error("Error when loading collaborators: ",t)}}searchSpaces(t){let n={serviceType:this.search.serviceType,keyword:this.search.keyword,page:t||1,offset:0,limit:this.limit};t&&(n.offset=t>1?this.limit*(t-1):0),this.loadSpaces(n)}searchSpacesNoLimit(){let n=this.spaceService.getSpacesNoLimit({serviceType:this.search.serviceType,keyword:this.search.keyword});this.spaces=n.data}toggleModal(t,n){switch(t){case"create-space":this.modals.createSpace=!this.modals.createSpace;break;case"create-space-image":this.modals.createSpaceImage=!this.modals.createSpaceImage;break;case"popup":n?(this.popup=!0,this.popupContent=n):(this.popup=!1,this.popupContent={icon:"",title:"",html:"",timer:void 0})}}catchModalCreateSpace(t){this.modals.createSpace=!1,0!=t&&this.searchSpaces(this.pagination.currentPage)}catchModalCreateSpaceImage(t){this.toggleModal("create-space-image"),this.toggleModal("popup",{icon:"success",title:"Space Created",timer:1500})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.E),e.Y36(C.D),e.Y36(T.e),e.Y36(k),e.Y36(P.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-member-home"]],decls:28,vars:12,consts:[[1,"shadow-light","rounded-modal","p-[34px]","bg-black2","page-member-home"],[1,"mb-4","md:mb-6","xl:mb-8","text-center"],[1,"page-title"],[1,"grid","grid-cols-1","lg:grid-cols-3","mb-[43px]"],[1,"col-span-1"],[1,"flex","items-center","flex-col","md:flex-row","p-4","rounded","shadow-light","bg-white"],[1,"w-full","inline-flex","items-center","grow","border-b","md:border-b-0","md:border-r","boder-black45","pb-2","md:pb-0","md:pr-2"],["type","button","s","",3,"click"],[3,"icon"],["type","text","spellcheck","false","placeholder","keyword...",1,"px-2","grow",3,"ngModel","ngModelChange"],[1,"cursor-pointer",3,"click"],[1,"w-[20px]","h-[20px]",3,"src"],[1,"w-full","pt-2","md:pt-0","md:pl-2","cursor-pointer",3,"ngModel","ngModelChange"],["value","","hidden","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","justify-center","lg:justify-start","items-center","h-full","p-4","lg:py-0"],[1,"h-full","rounded","px-4","mx-2","cursor-pointer","bg-white","inline-flex","justify-center","items-center","hover:shadow-light",3,"click"],[3,"src"],[3,"spaces","collaborators"],[3,"ngIf"],[3,"value"],[3,"static","closed"],[3,"user","closed"],[3,"timer","title","html","icon","closed"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Space List"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"div",4),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"button",7),e.NdJ("click",function(){return n.searchSpaces()}),e._UZ(10,"fa-icon",8),e.qZA(),e.TgZ(11,"input",9),e.NdJ("ngModelChange",function(l){return n.search.keyword=l}),e.qZA(),e.TgZ(12,"div",10),e.NdJ("click",function(){return n.search.keyword=""}),e._UZ(13,"img",11),e.qZA()(),e.TgZ(14,"select",12),e.NdJ("ngModelChange",function(l){return n.search.serviceType=l}),e.TgZ(15,"option",13),e._uU(16,"All"),e.qZA(),e.YNc(17,rt,2,2,"option",14),e.qZA()()(),e.TgZ(18,"div",4)(19,"div",15)(20,"div",16),e.NdJ("click",function(){return n.toggleModal("create-space")}),e._UZ(21,"img",17),e.qZA(),e.TgZ(22,"div",16),e.NdJ("click",function(){return n.toggleModal("create-space-image")}),e._UZ(23,"img",17),e.qZA()()()(),e._UZ(24,"partial-section-spaces-large",18),e.qZA(),e.YNc(25,lt,1,1,"ng-template",19),e.YNc(26,st,1,1,"ng-template",19),e.YNc(27,ct,1,4,"ng-template",19)),2&t&&(e.xp6(10),e.Q6J("icon",n.faSearch),e.xp6(1),e.Q6J("ngModel",n.search.keyword),e.xp6(2),e.Q6J("src",n.xCircleIcon,e.LSH),e.xp6(1),e.Q6J("ngModel",n.search.serviceType),e.xp6(3),e.Q6J("ngForOf",n.serviceTypes),e.xp6(4),e.Q6J("src",n.addSpaceByImageIcon,e.LSH),e.xp6(2),e.Q6J("src",n.addSpaceByEditorIcon,e.LSH),e.xp6(1),e.Q6J("spaces",n.spaces)("collaborators",n.collaborators),e.xp6(1),e.Q6J("ngIf",1==n.modals.createSpace),e.xp6(1),e.Q6J("ngIf",1==n.modals.createSpaceImage),e.xp6(1),e.Q6J("ngIf",1==n.popup))},dependencies:[s.sg,s.O5,h.i,f.BN,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.On,Ze,Ye,at],styles:[".input-wrapper[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%], .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0}.create-new-space[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{background-image:url(space_plus.d90129e313abbed5.png);background-size:contain;background-repeat:no-repeat}.create-new-space[_ngcontent-%COMP%]:hover   .bg[_ngcontent-%COMP%]{background-image:url(space_plus-color.9f33c90f309fad33.png)}.create-new-space[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#be185a}"]}),o})(),mt=(()=>{class o extends u.B{constructor(t){super(),this.collabService=t}deleteCollab(){try{200==this.collabService.deleteCollaborator(this.collaborator._id).status&&super.close(!0)}catch(t){super.close(!1),console.error("Error while trying to delete collaborator: ",t)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["modal-delete-collaborator"]],inputs:{collaborator:"collaborator"},features:[e.qOj],decls:11,vars:0,consts:[[1,"rounded-modal","bg-white","p-[32px]","max-w-[360px]"],[1,"modal-title","text-center"],[1,"flex","justify-center","items-center","mt-4"],["type","button",1,"px-4","py-2","mr-2","rounded-[3px]","border","border-main","bg-main","text-white",3,"click"],["type","button",1,"px-4","py-2","rounded-[3px]","border","border-black15","bg-white","text-black","hover:bg-main","hover:text-white",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"modal-base")(1,"div",0)(2,"p",1),e._uU(3,"Delete Collaborator"),e.qZA(),e.TgZ(4,"p"),e._uU(5," The collaborator will no longer can view or edit your spaces. You can add them back anytime you want. "),e.qZA(),e.TgZ(6,"div",2)(7,"button",3),e.NdJ("click",function(){return n.close(!1)}),e._uU(8," Cancel "),e.qZA(),e.TgZ(9,"button",4),e.NdJ("click",function(){return n.deleteCollab()}),e._uU(10," Confirm delete "),e.qZA()()()())},dependencies:[u.B]}),o})();function dt(o,i){if(1&o&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function gt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2," Invoice permission "),e.TgZ(3,"input",14),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.permissions.invoice=a)}),e.qZA(),e._UZ(4,"span",15),e.qZA()(),e.TgZ(5,"div",13)(6,"label"),e._uU(7," Billing permission "),e.TgZ(8,"input",14),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.permissions.billing=a)}),e.qZA(),e._UZ(9,"span",15),e.qZA()(),e.TgZ(10,"div",13)(11,"label"),e._uU(12," Email permission "),e.TgZ(13,"input",14),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.permissions.email=a)}),e.qZA(),e._UZ(14,"span",15),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("value",!0)("ngModel",t.permissions.invoice),e.xp6(5),e.Q6J("value",!0)("ngModel",t.permissions.billing),e.xp6(5),e.Q6J("value",!0)("ngModel",t.permissions.email)}}let ut=(()=>{class o{constructor(t){this.collabService=t,this.closed=new e.vpe,this.roles=[],this.permissions={invoice:!1,billing:!1,email:!1}}ngOnInit(){this.getRoles(),this.getRoleAndPermission()}close(t){this.closed.emit(t||!1)}getRoles(){let t=this.collabService.getRoles();this.roles=t.data}getRoleAndPermission(){this.role=this.collaborator.role.value}saveChange(){this.close(!0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["modal-edit-collaborator"]],inputs:{collaborator:"collaborator"},outputs:{closed:"closed"},decls:36,vars:7,consts:[[3,"static"],[1,"rounded-modal","p-[32px]","bg-black2","flex","flex-col"],[1,"modal-title","text-center","mb-4"],[1,"grow","mb-8"],[1,"form-group-inline","mb-3"],[1,"grow","input-wrapper"],[1,"w-full",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngIf"],[1,"text-center"],["type","button",1,"btn","btn-white","mr-4",3,"click"],["type","button",1,"btn","btn-main",3,"click"],[3,"value"],[1,"checkbox-input"],["type","checkbox",3,"value","ngModel","ngModelChange"],[1,"checkmark"]],template:function(t,n){1&t&&(e.TgZ(0,"modal-base",0)(1,"div",1)(2,"p",2),e._uU(3,"Edit Collaborator"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"label")(7,"strong"),e._uU(8,"First Name"),e.qZA()(),e.TgZ(9,"p"),e._uU(10),e.qZA()(),e.TgZ(11,"div",4)(12,"label")(13,"strong"),e._uU(14,"Last Name"),e.qZA()(),e.TgZ(15,"p"),e._uU(16),e.qZA()(),e.TgZ(17,"div",4)(18,"label")(19,"strong"),e._uU(20,"Email"),e.qZA()(),e.TgZ(21,"p"),e._uU(22),e.qZA()(),e.TgZ(23,"div",4)(24,"label")(25,"strong"),e._uU(26,"Role"),e.qZA()(),e.TgZ(27,"div",5)(28,"select",6),e.NdJ("ngModelChange",function(l){return n.role=l}),e.YNc(29,dt,2,2,"option",7),e.qZA()()(),e.YNc(30,gt,15,6,"ng-template",8),e.qZA(),e.TgZ(31,"div",9)(32,"button",10),e.NdJ("click",function(){return n.close()}),e._uU(33," Cancel "),e.qZA(),e.TgZ(34,"button",11),e.NdJ("click",function(){return n.saveChange()}),e._uU(35," Save Change "),e.qZA()()()()),2&t&&(e.Q6J("static",!1),e.xp6(10),e.Oqu(n.collaborator.user.name.first),e.xp6(6),e.Oqu(n.collaborator.user.name.last),e.xp6(6),e.Oqu(n.collaborator.user.email),e.xp6(6),e.Q6J("ngModel",n.role),e.xp6(1),e.Q6J("ngForOf",n.roles),e.xp6(1),e.Q6J("ngIf","admin"==n.role))},dependencies:[s.sg,s.O5,u.B,r.YN,r.Kr,r.Wl,r.EJ,r.JJ,r.On]}),o})();function _t(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-delete-collaborator",12),e.NdJ("closed",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.catchDeleteModal(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("collaborator",t.collaborator)}}function ft(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-edit-collaborator",12),e.NdJ("closed",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.catchEditModal(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("collaborator",t.collaborator)}}function bt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-message",13),e.NdJ("closed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleModal("message"))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("icon",t.message.icon)("title",t.message.title)("html",t.message.html)}}let ht=(()=>{class o{constructor(){this.icon=m.N.imageUrls.icon+"avatar.svg",this.modals={delete:!1,edit:!1,message:!1},this.message={icon:"",title:"",html:""},console.log("Collaborator: ",this.collaborator)}ngOnInit(){}toggleModal(t,n){switch(t){case"delete":this.modals.delete=!this.modals.delete;break;case"edit":this.modals.edit=!this.modals.edit;break;case"message":this.modals.message=!this.modals.message,this.message=n}}catchDeleteModal(t){this.toggleModal("delete"),1==t&&this.toggleModal("message",{icon:"success",title:"Collaborator removed"})}catchEditModal(t){this.toggleModal("edit"),1==t&&(this.updateCollaborator(),this.toggleModal("message",{icon:"success",title:"Collaborator updated"}))}updateCollaborator(){this.collaborator=this.collaborator}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-item-collaborator"]],inputs:{collaborator:"collaborator"},decls:21,vars:7,consts:[[1,"flex","flex-col","lg:flex-row","items-center","py-8","px-4","border-b","border-black15"],[1,"grow","w-full","flex","lg:inline-flex","items-center","justify-between"],[1,"w-[50px]","h-[50px]",3,"src"],[1,"grow","text-right","lg:text-left","px-4","lg:min-w-[260px]"],[1,"uppercase"],[1,"text-black45","break-all"],[1,"text-black45"],[1,"grow","w-full","justify-end","lg:grow-0","flex","lg:inline-flex"],[1,"svg-wrapper","w-[40px]","h-[40px]",3,"click"],[1,"svg","svg-edit","w-[20px]","h-[20px]"],[1,"svg","svg-trash","w-[20px]","h-[20px]"],[3,"ngIf"],[3,"collaborator","closed"],[3,"icon","title","html","closed"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"div",3)(4,"p",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"p",5)(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"p",6)(11,"strong"),e._uU(12),e.qZA()()()(),e.TgZ(13,"div",7)(14,"div",8),e.NdJ("click",function(){return n.toggleModal("edit")}),e._UZ(15,"div",9),e.qZA(),e.TgZ(16,"div",8),e.NdJ("click",function(){return n.toggleModal("delete")}),e._UZ(17,"div",10),e.qZA()()(),e.YNc(18,_t,1,1,"ng-template",11),e.YNc(19,ft,1,1,"ng-template",11),e.YNc(20,bt,1,3,"ng-template",11)),2&t&&(e.xp6(2),e.Q6J("src",n.icon,e.LSH),e.xp6(4),e.Oqu(n.collaborator.user.fullname),e.xp6(3),e.Oqu(n.collaborator.user.email),e.xp6(3),e.Oqu(n.collaborator.role.name),e.xp6(6),e.Q6J("ngIf",1==n.modals.delete),e.xp6(1),e.Q6J("ngIf",1==n.modals.edit),e.xp6(1),e.Q6J("ngIf",1==n.modals.message))},dependencies:[s.O5,h.i,mt,ut]}),o})();function xt(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" (",t.actives.length,") ")}}function vt(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" (",t.pendings.length,") ")}}function Zt(o,i){1&o&&e._UZ(0,"partial-item-collaborator",7),2&o&&e.Q6J("collaborator",i.$implicit)}let Ct=(()=>{class o{constructor(){this.collaborators=[],this.actives=[],this.pendings=[],this.tab="active",this.dataDisplay=[]}ngOnInit(){this.splitCollaborators()}splitCollaborators(){for(let t of this.collaborators)switch(t.status.value){case"active":this.actives.push(t);break;case"pending":this.pendings.push(t)}this.showTab("active")}showTab(t){switch(this.tab=t,t){case"active":this.dataDisplay=this.actives;break;case"pending":this.dataDisplay=this.pendings}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-list-collaborators"]],inputs:{collaborators:"collaborators"},decls:13,vars:12,consts:[[1,"flex","flex-wrap","bg-[#f3f3f3]","border-b-2"],[1,"grow","inline-flex"],[1,"py-2","px-4","border-b-2","cursor-pointer","-mb-[2px]",3,"click"],[4,"ngIf"],[1,"py-2","px-4"],[1,"max-h-[500px]","overflow-y-scroll","list"],[3,"collaborator",4,"ngFor","ngForOf"],[3,"collaborator"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return n.showTab("active")}),e._uU(3," Active "),e.YNc(4,xt,2,1,"span",3),e.qZA(),e.TgZ(5,"div",2),e.NdJ("click",function(){return n.showTab("pending")}),e._uU(6," Pending "),e.YNc(7,vt,2,1,"span",3),e.qZA()(),e.TgZ(8,"div",4)(9,"p"),e._uU(10),e.qZA()()(),e.TgZ(11,"div",5),e.YNc(12,Zt,1,1,"partial-item-collaborator",6),e.qZA()),2&t&&(e.xp6(2),e.ekj("bg-white","active"==n.tab)("border-main","active"==n.tab),e.xp6(2),e.Q6J("ngIf",n.actives.length>0),e.xp6(1),e.ekj("bg-white","pending"==n.tab)("border-main","pending"==n.tab),e.xp6(2),e.Q6J("ngIf",n.pendings.length>0),e.xp6(3),e.hij("Total: ",n.collaborators.length,""),e.xp6(2),e.Q6J("ngForOf",n.dataDisplay))},dependencies:[s.sg,s.O5,ht]}),o})();function Tt(o,i){if(1&o&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.messages.email.required)}}function wt(o,i){if(1&o&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.messages.email.email)}}function yt(o,i){if(1&o&&(e.YNc(0,Tt,2,1,"span",21),e.YNc(1,wt,2,1,"span",21)),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.ctr.email.errors?null:t.ctr.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.ctr.email.errors?null:t.ctr.email.errors.email)}}function It(o,i){if(1&o&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function qt(o,i){if(1&o&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.messages.role.required)}}function kt(o,i){if(1&o&&e.YNc(0,qt,2,1,"span",21),2&o){const t=e.oxw();e.Q6J("ngIf",null==t.ctr.role.errors?null:t.ctr.role.errors.required)}}function Pt(o,i){1&o&&(e.TgZ(0,"form",23)(1,"div",24)(2,"label",25),e._uU(3,"Invoice permission "),e._UZ(4,"input",26)(5,"span",27),e.qZA()(),e.TgZ(6,"div",24)(7,"label",25),e._uU(8,"Email permission "),e._UZ(9,"input",28)(10,"span",27),e.qZA()(),e.TgZ(11,"div",24)(12,"label",25),e._uU(13,"Billing permission "),e._UZ(14,"input",29)(15,"span",27),e.qZA()()()),2&o&&(e.xp6(4),e.Q6J("value",!0),e.xp6(5),e.Q6J("value",!0),e.xp6(5),e.Q6J("value",!0))}function At(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-message",30),e.NdJ("closed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closePopup())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("icon",t.popup.content.icon)("title",t.popup.content.title)("html",t.popup.content.html)("timer",t.popup.content.timer)}}let Mt=(()=>{class o{constructor(t,n,a,l){this.seo=t,this.fb=n,this.collabService=a,this.authService=l,this.collaborators=[],this.collabForm=this.fb.group({email:["",[r.kI.required,r.kI.email]],message:[""],role:["",[r.kI.required]],permissions:this.fb.group({invoice:[!1],billing:[!1],email:[!1]})}),this.roles=[],this.messages={email:{required:"Collaborator's email cannot be empty.",email:"Invalid email."},role:{required:"Please select a role for your collaborator."}},this.submitted=!1,this.popup={show:!1,content:{icon:"",title:"",html:"",timer:void 0}}}ngOnInit(){this.setSEO(),this.getCollabRoles(),this.getUser()}setSEO(){this.seo.setTitle("Collaborators")}getUser(){this.user=this.authService.getUserDecoded(),this.getCollaborators()}getCollaborators(){let t=this.collabService.getCollaborators(this.user._id);this.collaborators=t.data}getCollabRoles(){let t=this.collabService.getRoles();this.roles=t.data}get ctr(){return this.collabForm.controls}isCtrInvalid(t){return(t.dirty||this.submitted)&&t.invalid}submitInvite(){if(this.submitted=!0,this.collabForm.valid)try{201==this.collabService.addCollaborator(this.collabForm.value).status&&this.showPopup({icon:"success",html:"Invite sent",timer:2e3})}catch(t){this.showPopup({icon:"error",title:"Error when invite",html:"Error when inviting collaborators: "+t})}else this.showPopup({icon:"error",title:"Can't send invite",html:"Please check all information and try again.",timer:2e3})}showPopup(t){this.popup={show:!0,content:{icon:t.icon?t.icon:"",title:t.title?t.title:"",html:t.html?t.html:"",timer:t.timer?t.timer:void 0}}}closePopup(){this.popup={show:!1,content:{icon:"",title:"",html:"",timer:void 0}}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P.v),e.Y36(r.qu),e.Y36(k),e.Y36(T.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-member-collaborators"]],decls:43,vars:11,consts:[[1,"p-[16px]","lg:p-[48px]","rounded-modal","shadow-light","bg-black2"],[1,"text-center","mb-8"],[1,"page-title"],[1,"flex","flex-col","md:flex-row"],[3,"collaborators"],[1,"px-4","min-w-[290px]","h-full"],[1,"p-[32px]","bg-white","h-full","flex","flex-col","rounded-modal",3,"formGroup","submit"],[1,"text-center","uppercase","tracking-wider"],[1,"grow"],[1,"flex","flex-col","mb-4"],[1,"mb-2"],[1,"text-danger"],[1,"border","border-black15","rounded-[3px]","py-1","px-2"],["type","email","formControlName","email","spellcheck","false","placeholder","collaborator@mail.jp",1,"rounded-[3px]"],[3,"ngIf"],["formControlName","message","spellcheck","false",1,"w-full"],["formControlName","role",1,"w-full"],["value","","hidden","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formGroupName","permissions",4,"ngIf"],["type","submit",1,"mt-4","rounded","bg-main","hover:bg-mainLight","text-white","text-center","py-2"],["class","text-danger",4,"ngIf"],[3,"value"],["formGroupName","permissions"],[1,"checkbox-input"],[1,"container"],["type","checkbox","formControlName","invoice",3,"value"],[1,"checkmark"],["type","checkbox","formControlName","email",3,"value"],["type","checkbox","formControlName","billing",3,"value"],[3,"icon","title","html","timer","closed"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Collaborators"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"partial-list-collaborators",4),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("submit",function(){return n.submitInvite()}),e.TgZ(8,"p",7)(9,"strong"),e._uU(10,"Invite"),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"label",10)(14,"strong"),e._uU(15,"Email "),e.TgZ(16,"span",11),e._uU(17,"*"),e.qZA()()(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.YNc(20,yt,2,2,"ng-template",14),e.qZA(),e.TgZ(21,"div",9)(22,"label",10)(23,"strong"),e._uU(24,"Invitation Message"),e.qZA()(),e.TgZ(25,"div",12),e._UZ(26,"textarea",15),e.qZA()(),e.TgZ(27,"div",9)(28,"label",10)(29,"strong"),e._uU(30,"Role "),e.TgZ(31,"span",11),e._uU(32,"*"),e.qZA()()(),e.TgZ(33,"div",12)(34,"select",16)(35,"option",17),e._uU(36,"Select Role"),e.qZA(),e.YNc(37,It,2,2,"option",18),e.qZA()(),e.YNc(38,kt,1,1,"ng-template",14),e.qZA(),e.YNc(39,Pt,16,3,"form",19),e.qZA(),e.TgZ(40,"button",20),e._uU(41," Invite "),e.qZA()()()()(),e.YNc(42,At,1,4,"ng-template",14)),2&t&&(e.xp6(5),e.Q6J("collaborators",n.collaborators),e.xp6(2),e.Q6J("formGroup",n.collabForm),e.xp6(11),e.ekj("input-invalid",n.isCtrInvalid(n.ctr.email)),e.xp6(2),e.Q6J("ngIf",n.isCtrInvalid(n.ctr.email)),e.xp6(13),e.ekj("input-invalid",n.isCtrInvalid(n.ctr.role)),e.xp6(4),e.Q6J("ngForOf",n.roles),e.xp6(1),e.Q6J("ngIf",n.isCtrInvalid(n.ctr.role)),e.xp6(1),e.Q6J("ngIf","admin"==n.ctr.role.value),e.xp6(3),e.Q6J("ngIf",1==n.popup.show))},dependencies:[s.sg,s.O5,h.i,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r.JJ,r.JL,r.F,r.sg,r.u,r.x0,Ct]}),o})(),Ut=(()=>{class o{constructor(){this.closed=new e.vpe}ngOnInit(){}close(t){this.closed.emit(t||!1)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["modal-make-private"]],inputs:{space:"space"},outputs:{closed:"closed"},decls:17,vars:2,consts:[[3,"static","closed"],[1,"rounded-modal","bg-white","p-[32px]","flex","flex-col","w-[320px]"],[1,"text-center"],[1,"modal-title"],[1,"grow","mb-4"],[1,"uppercase"],["type","button",1,"btn","btn-white","mr-4",3,"click"],["type","button",1,"btn","btn-main",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"modal-base",0),e.NdJ("closed",function(){return n.close()}),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4,"Make Private"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",2)(7,"p",5)(8,"strong"),e._uU(9),e.qZA()(),e.TgZ(10,"p"),e._uU(11," This space will only be available to you and your collaborators. Any links or embeded spaces will no longer work. "),e.qZA()()(),e.TgZ(12,"div",2)(13,"button",6),e.NdJ("click",function(){return n.close()}),e._uU(14," Cancel "),e.qZA(),e.TgZ(15,"button",7),e.NdJ("click",function(){return n.close(!0)}),e._uU(16," Confirm "),e.qZA()()()()),2&t&&(e.Q6J("static",!1),e.xp6(9),e.Oqu(n.space.title))},dependencies:[u.B]}),o})();function St(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-make-private",12),e.NdJ("closed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleModal())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("space",t.space)}}let Jt=(()=>{class o{constructor(){this.modal=!1}ngOnInit(){}toggleModal(t){this.modal=!this.modal}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-item-public-space"]],inputs:{space:"space"},decls:15,vars:4,consts:[[1,"border-t","border-black15","py-4","flex","flex-col","lg:flex-row","justify-center","items-center"],[1,"grow","flex","lg:inline-flex","flex-col","lg:flex-row","items-center"],[1,"w-[160px]",3,"src"],[1,"px-4","py-2","lg:py-0"],[1,"uppercase","tracking-wider"],[1,"text-black45"],[1,"flex","w-full","lg:w-[20%]","lg:inline-flex","justify-center","lg:justify-end","items-center","pt-4","lg:pt-0"],[1,"svg-wrapper","w-[24px]","h-[24px]","mr-8"],[1,"svg","svg-open-app","w-[24px]","h-[24px]"],[1,"svg-wrapper","w-[24px]","h-[24px]",3,"click"],[1,"svg","svg-lock","w-[24px]","h-[24px]"],[3,"ngIf"],[3,"space","closed"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"div",3)(4,"p",4)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"p",5),e._uU(8),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7),e._UZ(11,"div",8),e.qZA(),e.TgZ(12,"div",9),e.NdJ("click",function(){return n.toggleModal()}),e._UZ(13,"div",10),e.qZA()()(),e.YNc(14,St,1,1,"ng-template",11)),2&t&&(e.xp6(2),e.Q6J("src",n.space.thumbnail,e.LSH),e.xp6(4),e.Oqu(n.space.title),e.xp6(2),e.hij("Updated by: ",n.space.author,""),e.xp6(6),e.Q6J("ngIf",1==n.modal))},dependencies:[s.O5,Ut]}),o})();function Nt(o,i){1&o&&e._UZ(0,"partial-item-public-space",3),2&o&&e.Q6J("space",i.$implicit)}function Qt(o,i){if(1&o&&e.YNc(0,Nt,1,1,"partial-item-public-space",2),2&o){const t=e.oxw();e.Q6J("ngForOf",t.spaces)}}function Yt(o,i){1&o&&e._uU(0,"You have not public any space yet.")}let Ot=(()=>{class o{constructor(){this.spaces=[]}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-list-public-spaces"]],inputs:{spaces:"spaces"},decls:3,vars:2,consts:[[1,"max-h-[800px]","overflow-y-scroll","list"],[3,"ngIf"],[3,"space",4,"ngFor","ngForOf"],[3,"space"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Qt,1,1,"ng-template",1),e.YNc(2,Yt,1,0,"ng-template",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.spaces&&n.spaces.length>0),e.xp6(1),e.Q6J("ngIf",!n.spaces||0==n.spaces.length))},dependencies:[s.sg,s.O5,Jt]}),o})(),Ft=(()=>{class o{constructor(t,n){this.seo=t,this.spaceService=n,this.spaces=[]}ngOnInit(){this.setSEO(),this.loadPublishedSpaces()}setSEO(){this.seo.setTitle("Public Spaces")}loadPublishedSpaces(){let t=this.spaceService.getPublishedSpaces();this.spaces=t.data}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P.v),e.Y36(b.E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-member-public-spaces"]],decls:5,vars:1,consts:[[1,"p-[48px]","bg-white","rounded-modal","lg:min-w-[960px]"],[1,"text-center","mb-4"],[1,"page-title"],[3,"spaces"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Public Spaces"),e.qZA()(),e._UZ(4,"partial-list-public-spaces",3),e.qZA()),2&t&&(e.xp6(4),e.Q6J("spaces",n.spaces))},dependencies:[Ot]}),o})(),Et=(()=>{class o{constructor(t){this.seo=t}ngOnInit(){this.setSEO()}setSEO(){this.seo.setTitle("Statistic")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-member-statistics"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"page-member-statistics works!"),e.qZA())}}),o})(),jt=(()=>{class o{constructor(t){this.http=t,this.route=m.N.apiUrl+"products"}getAllProducts(t){return this.http.get(this.route+"/all/page/"+(t?t.toString():"1"))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(I.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Lt=(()=>{class o{constructor(t){this.http=t,this.route=m.N.apiUrl+"categories"}getAll(){return this.http.get(this.route+"/all")}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(I.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var M=c(8781),Bt=c(3451);function Ht(o,i){if(1&o&&(e.TgZ(0,"p",12),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Gt(o,i){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.weight)}}function Kt(o,i){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.updated_at,"yyyy-MM-dd")," ")}}function Xt(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"No data"),e.qZA())}function Dt(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",6),e._UZ(3,"img",7),e.qZA(),e.TgZ(4,"div",8)(5,"p",9)(6,"strong"),e._uU(7),e.qZA()(),e.YNc(8,Ht,2,1,"p",10),e.YNc(9,Gt,2,1,"p",11),e.qZA(),e.TgZ(10,"div",6)(11,"p"),e._uU(12),e.qZA()(),e.TgZ(13,"div",6),e.YNc(14,Kt,3,4,"p",11),e.YNc(15,Xt,2,0,"p",11),e.qZA()(),e.BQk()),2&o){const t=i.$implicit;e.xp6(3),e.Q6J("src",t.image,e.LSH),e.xp6(4),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",t.weight),e.xp6(3),e.Oqu(t.category_name),e.xp6(2),e.Q6J("ngIf",t.updated_at),e.xp6(1),e.Q6J("ngIf",!t.updated_at)}}let Vt=(()=>{class o{constructor(){this.products=[]}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-table-products"]],inputs:{products:"products"},decls:15,vars:1,consts:[[1,"grid","grid-cols-4","bg-[#f3f3f3]"],[1,"p-4","text-center"],[1,"p-4","text-left"],[1,"bg-white","max-h-[500px]","overflow-y-scroll","list"],[4,"ngFor","ngForOf"],[1,"grid","grid-cols-4","border-t","border-black15"],[1,"p-4","inline-flex","justify-center"],[1,"w-[80px]","h-[100px]",3,"src"],[1,"p-4","inline-flex","flex-col","justify-start"],[1,"mb-[10px]","uppercase"],["class","mb-[10px]",4,"ngIf"],[4,"ngIf"],[1,"mb-[10px]"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p"),e._uU(3,"Product Image"),e.qZA()(),e.TgZ(4,"div",2)(5,"p"),e._uU(6,"Product Name"),e.qZA()(),e.TgZ(7,"div",1)(8,"p"),e._uU(9,"Category"),e.qZA()(),e.TgZ(10,"div",1)(11,"p"),e._uU(12,"Last Updated"),e.qZA()()(),e.TgZ(13,"div",3),e.YNc(14,Dt,16,7,"ng-container",4),e.qZA()),2&t&&(e.xp6(14),e.Q6J("ngForOf",n.products))},dependencies:[s.sg,s.O5,s.uU],styles:[".list[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.list[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:16px}.list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8c8c8c;border-radius:16px}"]}),o})();function zt(o,i){if(1&o&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&o){const t=i.$implicit,n=e.oxw();e.Q6J("value",t[n.key]),e.xp6(1),e.hij(" ",t[n.label]," ")}}let $t=(()=>{class o{constructor(){this.faSearch=p.Y$T,this.faTimes=p.NBC,this.categories=[],this.key="_id",this.label="name",this.submit=new e.vpe,this.keyword=""}ngOnInit(){}emit(){this.submit.emit({category:this.category,keyword:this.keyword})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-search-with-category"]],inputs:{categories:"categories",key:"key",label:"label"},outputs:{submit:"submit"},decls:13,vars:3,consts:[[1,"flex","flex-col","lg:flex-row","bg-white","shadow-light","rounded-[3px]","py-2","px-4"],[1,"inline-flex","justify-center","items-center","mr-0","pr-0","py-2","lg:py-0","lg:mr-4","lg:pr-4","border-black45","border-b","lg:border-b-0","lg:border-r"],[1,"inline-flex","items-center","justify-center","shrink-0","cursor-pointer"],[3,"icon"],[1,"grow","px-2"],["type","text","spellcheck","false",1,"w-full"],[1,"inline-flex","items-center","justify-center","shrink-0","rounded-circle","bg-black15","w-[16px]","h-[16px]","cursor-pointer"],[1,"text-[10px]","text-white",3,"icon"],[1,"py-2","lg:py-0"],[1,"w-full"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"input",5),e.qZA(),e.TgZ(6,"div",6),e._UZ(7,"fa-icon",7),e.qZA()(),e.TgZ(8,"div",8)(9,"select",9)(10,"option",10),e._uU(11,"All Category"),e.qZA(),e.YNc(12,zt,2,2,"option",11),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("icon",n.faSearch),e.xp6(4),e.Q6J("icon",n.faTimes),e.xp6(5),e.Q6J("ngForOf",n.categories))},dependencies:[s.sg,f.BN,r.YN,r.Kr]}),o})();function Rt(o,i){if(1&o&&(e.TgZ(0,"div",14),e._UZ(1,"partial-table-products",15),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("products",t.products)}}function Wt(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"You have no product."),e.qZA())}function eo(o,i){if(1&o&&(e.TgZ(0,"div",11),e.YNc(1,Rt,2,1,"div",12),e.YNc(2,Wt,2,0,"ng-template",null,13,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.products&&n.products.length>0)("ngIfElse",t)}}function to(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"partial-pagination",16),e.NdJ("pageClicked",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.searchProducts(a))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("nav",t.nav)}}function oo(o,i){1&o&&(e.TgZ(0,"div",17),e._UZ(1,"partial-loading"),e.qZA())}let no=(()=>{class o{constructor(t,n){this.productService=t,this.categoryService=n,this.faRefresh=p.T80,this.limit=10,this.offset=0,this.nav={pages:1,currentPage:1},this.categories=[],this.products=[],this.loading=!1}ngOnInit(){this.loadCategories(),this.searchProducts()}loadCategories(){this.categoryService.getAll().subscribe({next:t=>{console.log("res: ",t),this.categories=t[0].items},error:t=>{console.error("Error when loading product categories: ",t)}})}searchProducts(t){this.loading=!0,this.productService.getAllProducts().subscribe({next:n=>{this.products=n[0].items,this.nav.pages=Math.ceil(n[0].total/this.limit)},error:n=>{console.error("Error when loading all products: ",n)},complete:()=>{this.loading=!1}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(jt),e.Y36(Lt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-member-products"]],decls:14,vars:7,consts:[[1,"bg-black2","p-[48px]","rounded-modal"],[1,"flex","flex-col"],[1,"page-title","mb-[20px]","text-center"],[1,"grid","grid-cols-1","lg:grid-cols-4","mb-[20px]","gap-y-4"],[1,"col-span-1"],[1,"col-span-2"],[3,"categories","key","label"],[1,"col-span-1","px-4","text-center","lg:text-left"],[1,"inline-flex","px-4","py-1","lg:py-0","h-full","justify-center","items-center","cursor-pointer","bg-white","rounded","shadow-light"],[3,"icon"],[3,"ngIf"],[1,"grow","inline-flex","justify-center","items-center"],["class","grow",4,"ngIf","ngIfElse"],["noItem",""],[1,"grow"],[3,"products"],[3,"nav","pageClicked"],[1,"w-full","h-[35vh]"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Product List"),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"div",4),e.TgZ(6,"div",5),e._UZ(7,"partial-search-with-category",6),e.qZA(),e.TgZ(8,"div",7)(9,"div",8),e._UZ(10,"fa-icon",9),e.qZA()()(),e.YNc(11,eo,4,2,"ng-template",10),e.YNc(12,to,1,1,"ng-template",10),e.YNc(13,oo,2,0,"ng-template",10),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("categories",n.categories)("key","id")("label","name"),e.xp6(3),e.Q6J("icon",n.faRefresh),e.xp6(1),e.Q6J("ngIf",0==n.loading),e.xp6(1),e.Q6J("ngIf",0==n.loading),e.xp6(1),e.Q6J("ngIf",1==n.loading))},dependencies:[s.O5,M.f,Bt.l,f.BN,Vt,$t]}),o})();var io=c(1325);const v=m.N.imageUrls.spaceItem,Z=[{_id:"1",name:"Employee Chair - EC01",price:6e3,tax:600,monthly:1e3,sizes:{w:460,d:500,h:770},image:v+"ec01.png"},{_id:"2",name:"Employee Chair - EC02",price:6e3,tax:600,monthly:1e3,sizes:{w:460,d:500,h:770},image:v+"ec02.png"},{_id:"3",name:"Employee Table - ET01",price:8e3,tax:800,monthly:1e3,sizes:{w:660,d:1300,h:900},image:v+"et01.png"},{_id:"4",name:"Employee Table - ET02",price:8e3,tax:800,monthly:1e3,sizes:{w:660,d:1300,h:900},image:v+"et02.png"},{_id:"5",name:"Bookshelf - BS01",price:1e4,tax:1e3,monthly:1e3,sizes:{w:500,d:1e3,h:1700},image:v+"bs01.png"},{_id:"6",name:"Bookshelf - BS02",price:1e4,tax:1e3,monthly:1e3,sizes:{w:500,d:1e3,h:1700},image:v+"bs02.png"}],ro={_id:"1",space:{title:io.c[0].title},items:[{item:Z[0],quantity:1},{item:Z[1],quantity:1},{item:Z[2],quantity:1},{item:Z[3],quantity:1},{item:Z[4],quantity:1},{item:Z[5],quantity:1}],payments:{initial:{subTotal:16e4,tax:16e3,total:176e3},monthly:{subTotal:5e3,tax:500,total:5500}},createdAt:"2022-07-26 09:00:00",updatedAt:"2022-07-26 10:00:00"};let lo=(()=>{class o{constructor(){}getSpaceOrder(){return{status:200,data:ro}}completeSpaceOrder(){return{status:201}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function so(o,i){if(1&o&&(e.TgZ(0,"p",25),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.spaceOrder.space.title," ")}}function co(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27),e._UZ(2,"img",28),e.qZA(),e.TgZ(3,"div",29)(4,"div",30)(5,"div",31)(6,"p",32)(7,"strong"),e._uU(8),e.qZA()(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.ALo(13,"currency"),e.qZA()(),e.TgZ(14,"div",33)(15,"p"),e._uU(16),e.ALo(17,"currency"),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.ALo(20,"currency"),e.qZA()()(),e.TgZ(21,"div",34)(22,"div",35)(23,"div",36),e._UZ(24,"fa-icon",37),e.TgZ(25,"div",38)(26,"input",39),e.NdJ("ngModelChange",function(a){const g=e.CHM(t).$implicit;return e.KtG(g.quantity=a)}),e.qZA()(),e._UZ(27,"fa-icon",37),e.qZA(),e.TgZ(28,"p",40)(29,"strong"),e._uU(30,"Remove"),e.qZA()()(),e.TgZ(31,"div",33)(32,"p"),e._uU(33," Total | "),e.TgZ(34,"strong",41),e._uU(35),e.ALo(36,"currency"),e.qZA()()()()()()}if(2&o){const t=i.$implicit,n=e.oxw();e.xp6(2),e.Q6J("src",t.item.image,e.LSH),e.xp6(6),e.Oqu(t.item.name),e.xp6(2),e.lnq(" W",t.item.sizes.w," / D",t.item.sizes.d," / H",t.item.sizes.h," mm "),e.xp6(2),e.hij(" Monthly Charge: ",e.xi3(13,12,t.item.monthly,"JPY")," / month "),e.xp6(4),e.hij("Price | ",e.xi3(17,15,t.item.price,"JPY"),""),e.xp6(3),e.hij("Tax | ",e.xi3(20,18,t.item.tax,"JPY"),""),e.xp6(5),e.Q6J("icon",n.faMinus),e.xp6(2),e.Q6J("ngModel",t.quantity),e.xp6(1),e.Q6J("icon",n.faPlus),e.xp6(8),e.Oqu(e.xi3(36,21,t.item.price+t.item.tax,"JPY"))}}const U=function(){return["/home"]};function po(o,i){if(1&o&&(e.TgZ(0,"div",42)(1,"div",43)(2,"p",44)(3,"strong"),e._uU(4,"Contact"),e.qZA()(),e.TgZ(5,"a",45),e._UZ(6,"fa-icon",46),e.qZA()(),e.TgZ(7,"ul",10)(8,"li")(9,"p",47)(10,"strong"),e._uU(11),e.qZA()()(),e.TgZ(12,"li")(13,"p"),e._uU(14),e.qZA()(),e.TgZ(15,"li")(16,"p"),e._uU(17),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("routerLink",e.DdM(5,U)),e.xp6(1),e.Q6J("icon",t.faEdit),e.xp6(5),e.Oqu(t.user.fullname),e.xp6(3),e.Oqu(t.user.phoneNumber),e.xp6(3),e.Oqu(t.user.email)}}function mo(o,i){if(1&o&&e._UZ(0,"img",53),2&o){const t=e.oxw(2);e.Q6J("src",t.cardImages.visa,e.LSH)}}function go(o,i){if(1&o&&e._UZ(0,"img",53),2&o){const t=e.oxw(2);e.Q6J("src",t.cardImages.master,e.LSH)}}function uo(o,i){if(1&o&&e._UZ(0,"img",53),2&o){const t=e.oxw(2);e.Q6J("src",t.cardImages.jcb,e.LSH)}}function _o(o,i){if(1&o&&(e.TgZ(0,"div",48)(1,"div",43)(2,"p",44)(3,"strong"),e._uU(4,"Payment Method"),e.qZA()(),e.TgZ(5,"a",45),e._UZ(6,"fa-icon",46),e.qZA()(),e.TgZ(7,"div",49)(8,"div",50),e.YNc(9,mo,1,1,"img",51),e.YNc(10,go,1,1,"img",51),e.YNc(11,uo,1,1,"img",51),e.qZA(),e.TgZ(12,"div",52)(13,"p",47)(14,"strong"),e._uU(15),e.qZA()(),e.TgZ(16,"p"),e._uU(17),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("routerLink",e.DdM(9,U)),e.xp6(1),e.Q6J("icon",t.faEdit),e.xp6(3),e.Q6J("ngIf","visa"==t.card.type),e.xp6(1),e.Q6J("ngIf","master"==t.card.type),e.xp6(1),e.Q6J("ngIf","jcb"==t.card.type),e.xp6(4),e.Oqu(t.card.holder),e.xp6(2),e.hij("XXXX-XXXX-XXXX-",t.card.last4,""),e.xp6(2),e.AsE("Expired at ",t.card.expire.year,"/",t.card.expire.month,"")}}let fo=(()=>{class o{constructor(t,n,a,l){this.orderService=t,this.authService=n,this.ccService=a,this.popup=l,this.faPlus=p.r8p,this.faMinus=p.Kl4,this.faEdit=p.TzT,this.cardImages={visa:m.N.imageUrls.logos+"logo-visa.png",master:m.N.imageUrls.logos+"logo-master-card.png",jcb:m.N.imageUrls.logos+"logo-jcb.png"}}ngOnInit(){this.getSpaceOrder(),this.getUserInfo()}getSpaceOrder(){let t=this.orderService.getSpaceOrder();this.spaceOrder=t.data}getUserInfo(){this.user=this.authService.getUserDecoded(),this.getCCInfo()}getCCInfo(){let t=this.ccService.getCard(this.user._id);this.card=t.data}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(lo),e.Y36(T.e),e.Y36(S.f),e.Y36(C.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-member-order"]],decls:78,vars:32,consts:[[1,"rounded-modal","bg-black2"],[1,"pt-[40px]","pb-[20px]","px-[80px]","flex","flex-col","lg:flex-row","border-b","border-black15"],[1,"mr-0","pr-0","lg:mr-4","lg:pr-4","lg:border-r","border-black45","page-title"],["class","page-title text-black65",4,"ngIf"],[1,"pt-[20px]","pb-[40px]","px-[80px]","flex","flex-col","lg:flex-row"],[1,"max-h-[360px]","lg:max-h-[500px]","overflow-y-scroll","list-items"],["class","\n            flex flex-col\n            lg:flex-row\n            justify-between\n            text-black45\n            mb-[32px]\n          ",4,"ngFor","ngForOf"],[1,"mt-[32px]","py-[16px]","border-t"],[1,"uppercase","tracking-wider","pb-[16px]"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-black45"],[1,"tracking-wider"],[1,"flex","justify-between","items-center","border-t","border-dotted","border-black15","py-2"],[1,"px-0","lg:pl-8","inline-flex","flex-col"],[3,"ngIf"],[1,"grow","order-first","lg:order-3","py-4","border-t","border-black15"],[1,"grid","grid-cols-2","mb-2"],[1,"text-right"],[1,"grid","grid-cols-2","mb-2","py-2","border-t","border-dotted","border-black15"],[1,"order-4","flex","flex-col-reverse","xl:flex-row"],[1,"grow","mr-0","xl:mr-3","flex","xl:inline-flex","items-center","justify-center","py-3","xl:py-1","border","border-black15","text-black","bg-white","rounded"],[1,"grow","mb-3","xl:mb-0","flex","xl:inline-flex","items-center","justify-center","py-3","xl:py-1","border","border-main","text-white","bg-main","rounded"],[1,"order-last","text-black45","w-[336px]","py-4"],[1,"text-[13px]","leading-[22px]"],[1,"text-main","hover:underline",3,"routerLink"],[1,"page-title","text-black65"],[1,"flex","flex-col","lg:flex-row","justify-between","text-black45","mb-[32px]"],[1,"text-center"],[1,"inline-block","w-[100px]","h-[100px]","mb-2","lg:mb-0",3,"src"],[1,"flex","flex-col","justify-between"],[1,"grid","grid-cols-1","lg:grid-cols-2","mb-2","lg:mb-0"],[1,"px-3"],[1,"uppercase","text-black","tracking-wider"],[1,"px-3","text-left","lg:text-right"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-y-2"],[1,"px-3","inline-flex","items-center"],[1,"inline-flex","items-center","border","border-black15","bg-white","rounded-[3px]"],[1,"py-1","px-2","cursor-pointer","hover:bg-black45","hover:text-white",3,"icon"],[1,"w-[20px]","text-center","py-1","px-2"],[1,"w-full","text-center",3,"ngModel","ngModelChange"],[1,"px-2","hover:font-semibold","hover:text-main","cursor-pointer"],[1,"text-black"],[1,"py-4","lg:pt-0","border-t","lg:border-0","border-black15"],[1,"flex","justify-between","items-center","mb-3"],[1,"uppercase","tracking-wider"],[1,"text-black45","hover:text-main",3,"routerLink"],[3,"icon"],[1,"uppercase","text-black"],[1,"py-4","border-t","border-black15"],[1,"text-black45","flex","items-center"],[1,"inline-flex","items-center","w-[100px]","h-[80px]"],[3,"src",4,"ngIf"],[1,"px-4"],[3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3," Payment "),e.qZA(),e.YNc(4,so,2,1,"p",3),e.qZA(),e.TgZ(5,"div",4)(6,"div")(7,"div",5),e.YNc(8,co,37,24,"div",6),e.qZA(),e.TgZ(9,"div",7)(10,"p",8)(11,"strong"),e._uU(12,"Initial Payment"),e.qZA()(),e.TgZ(13,"div",9)(14,"p",10),e._uU(15,"Subtotal excluded"),e.qZA(),e.TgZ(16,"p",11)(17,"strong"),e._uU(18),e.ALo(19,"currency"),e.qZA()()(),e.TgZ(20,"div",9)(21,"p",10),e._uU(22,"Tax rate"),e.qZA(),e.TgZ(23,"p",11)(24,"strong"),e._uU(25),e.ALo(26,"currency"),e.qZA()()(),e.TgZ(27,"div",12)(28,"p",10),e._uU(29,"Total"),e.qZA(),e.TgZ(30,"p",11)(31,"strong"),e._uU(32),e.ALo(33,"currency"),e.qZA()()()()(),e.TgZ(34,"div",13),e.YNc(35,po,18,6,"ng-template",14),e.YNc(36,_o,20,10,"ng-template",14),e.TgZ(37,"div",15)(38,"p",8)(39,"strong"),e._uU(40,"Monthly Payment"),e.qZA()(),e.TgZ(41,"div",16)(42,"p",10),e._uU(43,"Subtotal excluded"),e.qZA(),e.TgZ(44,"p",17)(45,"strong"),e._uU(46),e.ALo(47,"currency"),e.qZA()()(),e.TgZ(48,"div",16)(49,"p",10),e._uU(50,"Tax"),e.qZA(),e.TgZ(51,"p",17)(52,"strong"),e._uU(53),e.ALo(54,"currency"),e.qZA()()(),e.TgZ(55,"div",18)(56,"p",10),e._uU(57,"Total"),e.qZA(),e.TgZ(58,"p",17)(59,"strong"),e._uU(60),e.ALo(61,"currency"),e.qZA()()()(),e.TgZ(62,"div",19)(63,"button",20)(64,"span"),e._uU(65,"Close"),e.qZA()(),e.TgZ(66,"button",21)(67,"span"),e._uU(68,"Make Order"),e.qZA()()(),e.TgZ(69,"div",22)(70,"p",23),e._uU(71,' By clicking the "Order" button, you are ordering the product after agreeing to the terms of use of Optimizer.co.jp, '),e.TgZ(72,"a",24),e._uU(73,"the privacy policy"),e.qZA(),e._uU(74," and "),e.TgZ(75,"a",24),e._uU(76,"other terms and conditions"),e.qZA(),e._uU(77," of sale described on this site. For prices, please see the product details page and here. "),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",n.spaceOrder&&n.spaceOrder.space.title),e.xp6(4),e.Q6J("ngForOf",n.spaceOrder.items),e.xp6(10),e.Oqu(e.xi3(19,12,n.spaceOrder.payments.initial.subTotal,"JPY")),e.xp6(7),e.Oqu(e.xi3(26,15,n.spaceOrder.payments.initial.tax,"JPY")),e.xp6(7),e.Oqu(e.xi3(33,18,n.spaceOrder.payments.initial.total,"JPY")),e.xp6(3),e.Q6J("ngIf",n.user),e.xp6(1),e.Q6J("ngIf",n.card),e.xp6(10),e.Oqu(e.xi3(47,21,n.spaceOrder.payments.monthly.subTotal,"JPY")),e.xp6(7),e.Oqu(e.xi3(54,24,n.spaceOrder.payments.monthly.tax,"JPY")),e.xp6(7),e.Oqu(e.xi3(61,27,n.spaceOrder.payments.monthly.total,"JPY")),e.xp6(12),e.Q6J("routerLink",e.DdM(30,U)),e.xp6(3),e.Q6J("routerLink",e.DdM(31,U)))},dependencies:[s.sg,s.O5,_.yS,f.BN,r.Fj,r.JJ,r.On,s.H9],styles:[".list-items[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.list-items[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:16px}.list-items[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8c8c8c;border-radius:16px}"]}),o})();function bo(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,l=e.oxw();return e.KtG(l.goPage(a.route))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.ekj("bg-grey",t.active),e.xp6(1),e.hij(" ",t.label," ")}}function ho(o,i){if(1&o&&(e.TgZ(0,"div",13),e._UZ(1,"div"),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Tol("w-[18px] h-[18px] svg svg-"+t.icon)}}function xo(o,i){if(1&o&&(e.TgZ(0,"div",13),e._UZ(1,"div"),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Tol("w-[18px] h-[18px] svg svg-"+t.icon)}}function vo(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const l=e.CHM(t).$implicit,g=e.oxw(4);return e.KtG(g.goPage(l.route))}),e.YNc(1,xo,2,2,"ng-template",8),e.TgZ(2,"p"),e._uU(3),e.qZA()()}if(2&o){const t=i.$implicit;e.ekj("bg-grey",t.active),e.xp6(1),e.Q6J("ngIf",t.icon),e.xp6(2),e.Oqu(t.label)}}function Zo(o,i){if(1&o&&e.YNc(0,vo,4,4,"div",14),2&o){const t=e.oxw(2).$implicit;e.Q6J("ngForOf",t.items)}}function Co(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,l=e.oxw();return e.KtG(l.toggle(a))}),e.YNc(1,ho,2,2,"ng-template",8),e.TgZ(2,"p",11),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._UZ(5,"fa-icon",12),e.qZA()(),e.YNc(6,Zo,1,1,"ng-template",8)}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",t.icon),e.xp6(2),e.Oqu(t.label),e.xp6(2),e.Q6J("icon",1==t.show?n.faUp:n.faDown),e.xp6(1),e.Q6J("ngIf",t.show)}}function To(o,i){if(1&o&&(e.ynx(0),e.YNc(1,bo,2,3,"ng-template",8),e.YNc(2,Co,7,4,"ng-template",8),e.BQk()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t.route),e.xp6(1),e.Q6J("ngIf",!t.route)}}let wo=(()=>{class o{constructor(t){this.router=t,this.faDown=p.eW2,this.faUp=p.l1h,this.route="profile",this.menu=[{icon:"account",label:"Account",show:!1,active:!1,items:[{icon:"manage",label:"Manage",active:!1,route:"/member/setting/manage"},{icon:"billing",label:"Billing",active:!1,route:"/member/setting/billing"},{icon:"user-octagon",label:"Roles",active:!1,route:"/member/setting/roles"}]}]}ngOnInit(){this.activeItem()}activeItem(){for(let t of this.menu)if(null!=t.show){for(let n of t.items)if(n.route==this.route){n.active=!0,t.show=!0;break}}else if(t.route==this.route){t.active=!0;break}}toggle(t){t.show=null!=t.show?!t.show:void 0}goPage(t){this.router.navigate([t])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-sidebar-setting"]],inputs:{user:"user",route:"route"},decls:12,vars:4,consts:[[1,"bg-white","rounded-[4px]","pt-[16px]","pb-[32px]","px-[16px]","mr-0","mb-4","lg:mb-0","lg:mr-4","lg:w-[230px]","lg:min-h-[552px]"],[1,"flex","lg:flex","border-b-0","lg:border-b","border-black15","py-4"],[1,"cursor-pointer","flex","items-center","py-4","px-2","hover:bg-grey","rounded-[4px]",3,"click"],[1,"shrink-0","mr-2","w-[32px]","h-[32px]","rounded-circle","border-2","border-main",3,"src"],[1,"grow","break-all"],[1,"text-black45"],[1,"flex","flex-row","lg:flex-col","flex-wrap","py-4"],[4,"ngFor","ngForOf"],[3,"ngIf"],[1,"py-2","px-4","rounded-[4px]","hover:bg-grey","cursor-pointer",3,"click"],[1,"inline-flex","items-center","rounded-[4px]","py-2","px-4","cursor-pointer","hover:bg-grey",3,"click"],[1,"mr-2"],[3,"icon"],[1,"svg-wrapper","w-[18px]","h-[18px]","mr-2"],["class","\n              inline-flex\n              items-center\n              py-2\n              px-4\n              lg:px-8\n              hover:bg-grey\n              rounded-[4px]\n              cursor-pointer\n            ",3,"bg-grey","click",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","py-2","px-4","lg:px-8","hover:bg-grey","rounded-[4px]","cursor-pointer",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return n.goPage("/member/setting/profile")}),e._UZ(3,"img",3),e.TgZ(4,"div",4)(5,"p")(6,"strong"),e._uU(7),e.qZA()(),e.TgZ(8,"p",5),e._uU(9),e.qZA()()()(),e.TgZ(10,"div",6),e.YNc(11,To,3,2,"ng-container",7),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("src",n.user.avatar,e.LSH),e.xp6(4),e.Oqu(n.user.fullname),e.xp6(2),e.Oqu(n.user.email),e.xp6(2),e.Q6J("ngForOf",n.menu))},dependencies:[s.sg,s.O5,f.BN]}),o})();const yo=["*"];let J=(()=>{class o{constructor(){this.route="profile"}ngOnInit(){this.getUser()}getUser(){let t=localStorage.getItem("user");this.user=JSON.parse(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["layout-setting"]],inputs:{route:"route"},ngContentSelectors:yo,decls:7,vars:2,consts:[[1,"inline-flex","flex-col","border-box","bg-black2","rounded-modal","p-[48px]","xl:min-w-[900px]"],[1,"text-center","mb-4"],[1,"page-title"],[1,"flex","flex-col","lg:flex-row"],[3,"route","user"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Setting"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"partial-sidebar-setting",4),e.Hsn(6),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("route",n.route)("user",n.user))},dependencies:[wo]}),o})();function Io(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleForm(a.basicInfo))}),e._uU(1," Edit "),e.qZA()}}function qo(o,i){1&o&&(e.TgZ(0,"div",8),e._UZ(1,"partial-loading"),e.qZA())}function ko(o,i){if(1&o&&(e.TgZ(0,"div",9)(1,"div")(2,"span",10),e._uU(3,"First Name: "),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div")(7,"span",10),e._uU(8,"Last Name: "),e.qZA(),e.TgZ(9,"span"),e._uU(10),e.qZA()(),e.TgZ(11,"div")(12,"span",10),e._uU(13,"Phone Number: "),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"div")(17,"span",10),e._uU(18,"Company Name: "),e.qZA(),e.TgZ(19,"span"),e._uU(20),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(5),e.Oqu(t.user.firstname),e.xp6(5),e.Oqu(t.user.lastname),e.xp6(5),e.Oqu(t.user.phoneNumber),e.xp6(5),e.Oqu(t.user.company)}}function Po(o,i){if(1&o&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.basicInfo.messages.firstname.required," ")}}function Ao(o,i){if(1&o&&(e.TgZ(0,"div",26),e.YNc(1,Po,2,1,"p",27),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr1.firstname,"required"))}}function Mo(o,i){if(1&o&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.basicInfo.messages.lastname.required," ")}}function Uo(o,i){if(1&o&&(e.TgZ(0,"div",26),e.YNc(1,Mo,2,1,"p",27),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr1.lastname,"required"))}}function So(o,i){if(1&o&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.basicInfo.messages.phone.required," ")}}function Jo(o,i){if(1&o&&(e.TgZ(0,"div",26),e.YNc(1,So,2,1,"p",27),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr1.phone,"required"))}}function No(o,i){if(1&o&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.basicInfo.messages.company.required," ")}}function Qo(o,i){if(1&o&&(e.TgZ(0,"div",26),e.YNc(1,No,2,1,"p",27),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr1.company,"required"))}}function Yo(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("submit",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.submitForm1())}),e.TgZ(1,"div",12)(2,"div",13)(3,"div",14)(4,"label",15),e._uU(5,"First Name "),e.TgZ(6,"span",16),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"div",17),e._UZ(9,"input",18),e.qZA(),e.YNc(10,Ao,2,1,"div",19),e.qZA(),e.TgZ(11,"div",14)(12,"label",15),e._uU(13,"Last Name "),e.TgZ(14,"span",16),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"div",17),e._UZ(17,"input",20),e.qZA(),e.YNc(18,Uo,2,1,"div",19),e.qZA(),e.TgZ(19,"div",14)(20,"label",15),e._uU(21,"Phone Number "),e.TgZ(22,"span",16),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"div",17),e._UZ(25,"input",21),e.qZA(),e.YNc(26,Jo,2,1,"div",19),e.qZA(),e.TgZ(27,"div",14)(28,"label",15),e._uU(29,"Company Name "),e.TgZ(30,"span",16),e._uU(31,"*"),e.qZA()(),e.TgZ(32,"div",17),e._UZ(33,"input",22),e.qZA(),e.YNc(34,Qo,2,1,"div",19),e.qZA()()(),e.TgZ(35,"div",23)(36,"button",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleForm(a.basicInfo))}),e._uU(37," Cancel "),e.qZA(),e.TgZ(38,"button",25),e._uU(39," Save Changes "),e.qZA()()()}if(2&o){const t=e.oxw(2);e.Q6J("formGroup",t.form1),e.xp6(8),e.ekj("input-invalid",t.fs.isControlInvalid(t.ctr1.firstname,t.basicInfo.submitted)),e.xp6(2),e.Q6J("ngIf",t.fs.isControlInvalid(t.ctr1.firstname,t.basicInfo.submitted)),e.xp6(6),e.ekj("input-invalid",t.fs.isControlInvalid(t.ctr1.lastname,t.basicInfo.submitted)),e.xp6(2),e.Q6J("ngIf",t.fs.isControlInvalid(t.ctr1.lastname,t.basicInfo.submitted)),e.xp6(6),e.ekj("input-invalid",t.fs.isControlInvalid(t.ctr1.phone,t.basicInfo.submitted)),e.xp6(2),e.Q6J("ngIf",t.fs.isControlInvalid(t.ctr1.phone,t.basicInfo.submitted)),e.xp6(6),e.ekj("input-invalid",t.fs.isControlInvalid(t.ctr1.company,t.basicInfo.submitted)),e.xp6(2),e.Q6J("ngIf",t.fs.isControlInvalid(t.ctr1.company,t.basicInfo.submitted))}}function Oo(o,i){if(1&o&&(e.YNc(0,ko,21,4,"ng-template",5),e.YNc(1,Yo,40,13,"ng-template",5)),2&o){const t=e.oxw();e.Q6J("ngIf",0==t.basicInfo.edit),e.xp6(1),e.Q6J("ngIf",1==t.basicInfo.edit)}}function Fo(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleForm(a.loginInfo))}),e._uU(1," Edit "),e.qZA()}}function Eo(o,i){1&o&&(e.TgZ(0,"div",8),e._UZ(1,"partial-loading"),e.qZA())}function jo(o,i){if(1&o&&(e.TgZ(0,"div",9)(1,"div")(2,"span",10),e._uU(3,"Email: "),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div")(7,"span",10),e._uU(8,"Password: "),e.qZA(),e.TgZ(9,"span"),e._uU(10,"******"),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(5),e.Oqu(t.user.email)}}function Lo(o,i){if(1&o&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.loginInfo.messages.email.required," ")}}function Bo(o,i){if(1&o&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.loginInfo.messages.email.email," ")}}function Ho(o,i){if(1&o&&(e.TgZ(0,"div",26),e.YNc(1,Lo,2,1,"p",27),e.YNc(2,Bo,2,1,"p",27),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr2.email,"required")),e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr2.email,"email"))}}function Go(o,i){if(1&o&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.loginInfo.messages.currentPassword.required," ")}}function Ko(o,i){if(1&o&&(e.TgZ(0,"div",26),e.YNc(1,Go,2,1,"p",27),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr2.currentPassword,"required"))}}function Xo(o,i){if(1&o&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.loginInfo.messages.newPassword.required," ")}}function Do(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Xo,2,1,"p",27),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr2.newPassword,"required"))}}function Vo(o,i){if(1&o&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.loginInfo.messages.confirmPassword.required," ")}}function zo(o,i){if(1&o&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.loginInfo.messages.confirmPassword.matched," ")}}function $o(o,i){if(1&o&&(e.YNc(0,Vo,2,1,"p",27),e.YNc(1,zo,2,1,"p",27)),2&o){const t=e.oxw(3);e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr2.confirmPassword,"required")),e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr2.confirmPassword,"matched"))}}function Ro(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("submit",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.submitForm2())}),e.TgZ(1,"div",12)(2,"div",13)(3,"div",14)(4,"label",15),e._uU(5,"Email "),e.TgZ(6,"span",16),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"div",17),e._UZ(9,"input",28),e.qZA(),e.YNc(10,Ho,3,2,"div",19),e.qZA(),e.TgZ(11,"div",14)(12,"label",15),e._uU(13," Current Password "),e.TgZ(14,"span",16),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"div",17),e._UZ(17,"input",29),e.TgZ(18,"fa-icon",30),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.loginInfo.shows.currentPassword=!a.loginInfo.shows.currentPassword)}),e.qZA()(),e.YNc(19,Ko,2,1,"div",19),e.qZA(),e.TgZ(20,"div",14)(21,"label",15),e._uU(22," New Password "),e.TgZ(23,"span",16),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"div",17),e._UZ(26,"input",31),e.TgZ(27,"fa-icon",30),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.loginInfo.shows.newPassword=!a.loginInfo.shows.newPassword)}),e.qZA()(),e.YNc(28,Do,2,1,"div",32),e.qZA(),e.TgZ(29,"div",14)(30,"label",15),e._uU(31," Confirm Password "),e.TgZ(32,"span",16),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"div",17),e._UZ(35,"input",33),e.TgZ(36,"fa-icon",30),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.loginInfo.shows.confirmPassword=!a.loginInfo.shows.confirmPassword)}),e.qZA()(),e.YNc(37,$o,2,2,"ng-template",5),e.qZA()()(),e.TgZ(38,"div",23)(39,"button",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleForm(a.loginInfo))}),e._uU(40," Cancel "),e.qZA(),e.TgZ(41,"button",25),e._uU(42," Save Changes "),e.qZA()()()}if(2&o){const t=e.oxw(2);e.Q6J("formGroup",t.form2),e.xp6(8),e.ekj("input-invalid",t.fs.isControlInvalid(t.ctr2.email,t.loginInfo.submitted)),e.xp6(2),e.Q6J("ngIf",t.fs.isControlInvalid(t.ctr2.email,t.loginInfo.submitted)),e.xp6(6),e.ekj("input-invalid",t.fs.isControlInvalid(t.ctr2.currentPassword,t.loginInfo.submitted)),e.xp6(1),e.Q6J("type",1==t.loginInfo.shows.currentPassword?"text":"password"),e.xp6(1),e.Q6J("icon",1==t.loginInfo.shows.currentPassword?t.faEyeSlash:t.faEye),e.xp6(1),e.Q6J("ngIf",t.fs.isControlInvalid(t.ctr2.currentPassword,t.loginInfo.submitted)),e.xp6(6),e.ekj("input-invalid",t.fs.isControlInvalid(t.ctr2.newPassword,t.loginInfo.submitted)),e.xp6(1),e.Q6J("type",1==t.loginInfo.shows.newPassword?"text":"password"),e.xp6(1),e.Q6J("icon",1==t.loginInfo.shows.newPassword?t.faEyeSlash:t.faEye),e.xp6(1),e.Q6J("ngIf",t.fs.isControlInvalid(t.ctr2.newPassword,t.loginInfo.submitted)),e.xp6(6),e.ekj("input-invalid",t.fs.isControlInvalid(t.ctr2.confirmPassword,t.loginInfo.submitted)),e.xp6(1),e.Q6J("type",1==t.loginInfo.shows.confirmPassword?"text":"password"),e.xp6(1),e.Q6J("icon",1==t.loginInfo.shows.confirmPassword?t.faEyeSlash:t.faEye),e.xp6(1),e.Q6J("ngIf",t.fs.isControlInvalid(t.ctr2.confirmPassword,t.loginInfo.submitted))}}function Wo(o,i){if(1&o&&(e.YNc(0,jo,11,1,"ng-template",5),e.YNc(1,Ro,43,19,"ng-template",5)),2&o){const t=e.oxw();e.Q6J("ngIf",0==t.loginInfo.edit),e.xp6(1),e.Q6J("ngIf",1==t.loginInfo.edit)}}function en(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"modal-message",34),e.NdJ("closed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.togglePopup())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("title",t.popupContent.title)("html",t.popupContent.html)("icon",t.popupContent.icon)("timer",t.popupContent.timer)}}let tn=(()=>{class o{constructor(t,n,a){this.fb=t,this.fs=n,this.authService=a,this.faEye=p.Mdf,this.faEyeSlash=p.Aq,this.basicInfo={loading:!1,edit:!1,form:this.fb.group({_id:["",[r.kI.required]],firstname:["",[r.kI.required]],lastname:["",[r.kI.required]],phone:["",[r.kI.required]],company:["",[r.kI.required]]}),submitted:!1,messages:{firstname:{required:"First name cannot be empty."},lastname:{required:"Last name cannot be empty."},phone:{required:"Phone number cannot be empty."},company:{required:"Company's name cannot be empty."}}},this.loginInfo={loading:!1,edit:!1,form:this.fb.group({_id:["",[r.kI.required]],email:["",[r.kI.required,r.kI.email]],currentPassword:["",[r.kI.required]],newPassword:["",[r.kI.required]],confirmPassword:["",[r.kI.required]]}),submitted:!1,shows:{currentPassword:!1,newPassword:!1,confirmPassword:!1},messages:{email:{required:"Email cannot be empty.",email:"Email is invalid."},currentPassword:{required:"Please enter the current password."},newPassword:{required:"Please enter the new password."},confirmPassword:{required:"Please re-enter the new password.",matched:"Confirm password don't match with the new password."}}},this.popup=!1,this.popupContent={title:"",html:"",icon:"",timer:void 0}}ngOnInit(){this.getUser()}getUser(){this.basicInfo.loading=!0,this.loginInfo.loading=!0,setTimeout(()=>{this.user=this.authService.getUserDecoded(),this.setFormsValue(),this.basicInfo.loading=!1,this.loginInfo.loading=!1},1e3)}setFormsValue(){if(this.user){let t=this.user;this.ctr1._id.setValue(t._id),this.ctr1.firstname.setValue(t.firstname),this.ctr1.lastname.setValue(t.lastname),this.ctr1.phone.setValue(t.phoneNumber),this.ctr1.company.setValue(t.company),this.ctr2._id.setValue(t._id),this.ctr2.email.setValue(t.email)}}toggleForm(t){t.edit=!t.edit}get form1(){return this.basicInfo.form}get ctr1(){return this.form1.controls}submitForm1(){this.basicInfo.submitted=!0,this.form1.valid?(this.togglePopup({icon:"success",title:"Basic infomation updated",timer:1500}),this.basicInfo.edit=!1,this.getUser()):this.togglePopup({icon:"error",title:"Invalid or missing info",html:"Please check all information and try again."})}get form2(){return this.loginInfo.form}get ctr2(){return this.form2.controls}submitForm2(){this.loginInfo.submitted=!0,this.ctr2.confirmPassword.setErrors(this.ctr2.confirmPassword.value!=this.ctr2.newPassword.value?{matched:!0}:null),this.form2.valid?(this.togglePopup({icon:"success",title:"Login infomation updated",timer:1500}),this.loginInfo.edit=!1,this.getUser()):this.togglePopup({icon:"error",title:"Invalid or missing info",html:"Please check all information and try again."})}togglePopup(t){this.popup=!!t,this.popupContent={title:t&&t.title?t.title:"",html:t&&t.html?t.html:"",icon:t&&t.icon?t.icon:"",timer:t&&t.timer?t.timer:void 0}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(A),e.Y36(T.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-member-profile"]],decls:19,vars:9,consts:[[1,"grow","md:max-w-[500px]","lg:max-w-[740px]","bg-white","rounded-[4px]","p-[16px]"],[1,"py-4","border-b","border-grey"],[1,"flex","items-center","justify-between","mb-2","text-black65"],[1,"text-[16px]","leading-[23px]","tracking-wider","uppercase","mr-2"],["type","button","class","\n            px-3\n            py-1\n            border border-black15\n            bg-white\n            text-black text-[14px]\n            hover:text-white\n            hover:bg-main\n            rounded\n          ",3,"click",4,"ngIf"],[3,"ngIf"],[1,"py-4"],["type","button",1,"px-3","py-1","border","border-black15","bg-white","text-black","text-[14px]","hover:text-white","hover:bg-main","rounded",3,"click"],[1,"w-full","h-[100px]"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-x-8","gap-y-4","break-all"],[1,"text-black45"],[1,"flex","flex-col","min-h-[200px]",3,"formGroup","submit"],[1,"grow","mb-8"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-x-8","gap-y-4"],[1,"form-group-col"],[1,"text-black65"],[1,"text-danger"],[1,"input-wrapper"],["type","text","formControlName","firstname","spellcheck","false"],["class","text-right",4,"ngIf"],["type","text","formControlName","lastname","spellcheck","false"],["type","text","formControlName","phone","spellcheck","false"],["type","text","formControlName","company","spellcheck","false"],[1,"flex","flex-col","lg:flex-row","lg:justify-end","justify-center","items-center"],["type","button",1,"btn","btn-white","lg:mb-0","lg:mr-4","order-last","lg:order-first",3,"click"],["type","submit",1,"btn","btn-main","mb-3","lg:mb-0"],[1,"text-right"],["class","text-danger",4,"ngIf"],["type","email","formControlName","email","spellcheck","false"],["formControlName","currentPassword","spellcheck","false",3,"type"],[1,"absolute","top-[3px]","right-[6px]","w-[20px]","cursor-pointer","text-black45",3,"icon","click"],["formControlName","newPassword","spellcheck","false",3,"type"],[4,"ngIf"],["formControlName","confirmPassword","spellcheck","false",3,"type"],[3,"title","html","icon","timer","closed"]],template:function(t,n){1&t&&(e.TgZ(0,"layout-setting")(1,"div",0)(2,"div",1)(3,"div",2)(4,"p",3)(5,"strong"),e._uU(6),e.qZA()(),e.YNc(7,Io,2,0,"button",4),e.qZA(),e.YNc(8,qo,2,0,"ng-template",5),e.YNc(9,Oo,2,2,"ng-template",5),e.qZA(),e.TgZ(10,"div",6)(11,"div",2)(12,"p",3)(13,"strong"),e._uU(14),e.qZA()(),e.YNc(15,Fo,2,0,"button",4),e.qZA(),e.YNc(16,Eo,2,0,"ng-template",5),e.YNc(17,Wo,2,2,"ng-template",5),e.qZA()(),e.YNc(18,en,1,4,"ng-template",5),e.qZA()),2&t&&(e.xp6(6),e.Oqu(1==n.basicInfo.edit?"Edit Basic Information":"Basic Information"),e.xp6(1),e.Q6J("ngIf",0==n.basicInfo.edit),e.xp6(1),e.Q6J("ngIf",1==n.basicInfo.loading),e.xp6(1),e.Q6J("ngIf",0==n.basicInfo.loading),e.xp6(5),e.Oqu(1==n.loginInfo.edit?"Edit Login Information":"Login Information"),e.xp6(1),e.Q6J("ngIf",0==n.loginInfo.edit),e.xp6(1),e.Q6J("ngIf",1==n.loginInfo.loading),e.xp6(1),e.Q6J("ngIf",0==n.loginInfo.loading),e.xp6(1),e.Q6J("ngIf",1==n.popup))},dependencies:[s.O5,h.i,M.f,f.BN,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,J]}),o})();var F=c(6360),on=c(4541);function nn(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.accountInfo.edit=!0)}),e._uU(1," Edit "),e.qZA()}}function an(o,i){1&o&&(e.TgZ(0,"div",14),e._UZ(1,"partial-loading"),e.qZA())}function rn(o,i){if(1&o&&(e.TgZ(0,"p")(1,"span",11),e._uU(2,"Account Name: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.Oqu(t.mockAccount.name)}}function ln(o,i){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.accountInfo.messages.name.required," ")}}function sn(o,i){if(1&o&&(e.TgZ(0,"div",25),e.YNc(1,ln,2,1,"p",26),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fs.isCtrHasError(t.ctr1.name,"required"))}}function cn(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",15),e.NdJ("submit",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.submitForm1())}),e.TgZ(1,"div",16)(2,"div",17)(3,"label")(4,"strong"),e._uU(5,"Name "),e.TgZ(6,"span",18),e._uU(7,"*"),e.qZA()()(),e.TgZ(8,"div",19),e._UZ(9,"input",20),e.qZA(),e.YNc(10,sn,2,1,"div",21),e.qZA()(),e.TgZ(11,"div",22)(12,"button",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.accountInfo.edit=!1)}),e._uU(13," Cancel "),e.qZA(),e.TgZ(14,"button",24),e._uU(15," Save Changes "),e.qZA()()()}if(2&o){const t=e.oxw(2);e.Q6J("formGroup",t.form1),e.xp6(8),e.ekj("input-invalid",t.fs.isControlInvalid(t.ctr1.name,t.accountInfo.submitted)),e.xp6(2),e.Q6J("ngIf",t.fs.isControlInvalid(t.ctr1.name,t.accountInfo.submitted))}}function pn(o,i){if(1&o&&(e.YNc(0,rn,5,1,"ng-template",6),e.YNc(1,cn,16,4,"ng-template",6)),2&o){const t=e.oxw();e.Q6J("ngIf",0==t.accountInfo.edit),e.xp6(1),e.Q6J("ngIf",1==t.accountInfo.edit)}}let mn=(()=>{class o{constructor(t,n){this.fb=t,this.fs=n,this.mockAccount={_id:"0523187254abcdefgjkl",name:"\u682a\u5f0f\u4f1a\u793e\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u30fc",vrShare:!1},this.accountInfo={loading:!1,edit:!1,form:this.fb.group({_id:["",[r.kI.required]],name:["",[r.kI.required]]}),submitted:!1,messages:{name:{required:"Account's name cannot be empty."}}},this.vrInfo=this.fb.group({_id:["",[r.kI.required]],vrShare:[!1]}),this.popup={title:"Testing New Popup",html:"This is new popup",icon:"success",timer:void 0,show:!1}}ngOnInit(){this.transferDataToForm()}get form1(){return this.accountInfo.form}get ctr1(){return this.form1.controls}get ctr2(){return this.vrInfo.controls}submitForm1(){this.accountInfo.submitted=!0,this.popup=this.form1.valid?{title:"Account info updated",timer:1500,icon:"success",show:!0}:{title:"Invalid or missing information",html:"Please check all information and try again.",icon:"error",show:!0}}submitForm2(){this.popup={icon:"success",title:"VR sharing is "+(1==this.ctr2.vrShare.value?"on":"off"),timer:1500,show:!0}}transferDataToForm(){this.ctr1._id.setValue(this.mockAccount._id),this.ctr1.name.setValue(this.mockAccount.name),this.ctr2._id.setValue(this.mockAccount._id),this.ctr2.vrShare.setValue(this.mockAccount.vrShare)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(A))},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-member-manage"]],decls:20,vars:9,consts:[[3,"route"],[1,"grow","rounded-[4px]","p-[16px]","bg-white","max-w-[600px]"],[1,"border-b","border-black15","pb-4"],[1,"flex","items-center","justify-between","mb-2","text-black65"],[1,"text-[16px]","leading-[23px]","tracking-wider","uppercase","mr-2"],["type","button","class","\n            px-3\n            py-1\n            border border-black15\n            bg-white\n            text-black text-[14px]\n            hover:text-white\n            hover:bg-main\n            rounded\n          ",3,"click",4,"ngIf"],[3,"ngIf"],[1,"pt-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-black65","text-[16px]","leading-[23px]","tracking-wider","uppercase","mr-2"],[3,"trueLabel","falseLabel"],[1,"text-black45"],[3,"show","content","closed"],["type","button",1,"px-3","py-1","border","border-black15","bg-white","text-black","text-[14px]","hover:text-white","hover:bg-main","rounded",3,"click"],[1,"w-full","h-[100px]"],[1,"flex","flex-col","min-h-[200px]",3,"formGroup","submit"],[1,"grow"],[1,"form-group-col"],[1,"text-danger"],[1,"input-wrapper"],["type","text","formControlName","name","spellcheck","false"],["class","text-right text-danger",4,"ngIf"],[1,"flex","flex-col","lg:flex-row","justify-center","lg:justify-end","items-center"],["type","button",1,"btn","btn-white","order-last","lg:order-first","mr-0","lg:mr-4",3,"click"],["type","submit",1,"btn","btn-main","mb-2","lg:mb-0"],[1,"text-right","text-danger"],[4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"layout-setting",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4)(5,"strong"),e._uU(6),e.qZA()(),e.YNc(7,nn,2,0,"button",5),e.qZA(),e.YNc(8,an,2,0,"ng-template",6),e.YNc(9,pn,2,2,"ng-template",6),e.qZA(),e.TgZ(10,"div",7)(11,"div",8)(12,"p",9)(13,"strong"),e._uU(14,"VR Sharing"),e.qZA()(),e.TgZ(15,"div"),e._UZ(16,"partial-item-switch",10),e.qZA()(),e.TgZ(17,"div",11),e._uU(18," Once VR sharing is enabled, all spaces in your account will be VR ready and can be shared via a url. Your spaces will be viewable via the Betaspace VR app for either Google Cardboard or Samsung Gear VR. "),e.qZA()()(),e.TgZ(19,"modal-popup",12),e.NdJ("closed",function(){return n.popup.show=!1}),e.qZA()()),2&t&&(e.Q6J("route","/member/setting/manage"),e.xp6(6),e.Oqu(1==n.accountInfo.edit?"Edit Account Detail":"Account Detail"),e.xp6(1),e.Q6J("ngIf",0==n.accountInfo.edit),e.xp6(1),e.Q6J("ngIf",1==n.accountInfo.loading),e.xp6(1),e.Q6J("ngIf",0==n.accountInfo.loading),e.xp6(7),e.Q6J("trueLabel","ON")("falseLabel","OFF"),e.xp6(3),e.Q6J("show",n.popup.show)("content",n.popup))},dependencies:[s.O5,F.v,on.T,M.f,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,J]}),o})();const fn=[{_id:"1",user:q.b[0]._id,country:"Kuwait",state:"Some State",city:"Kuwaiti",street:"Some Street",unit:"",postalCode:"700000"}],bn=[{_id:"1",user:q.b[0]._id,country:"Kuwait",state:"Some Other State",city:"Kuwaiti",street:"Some Other Street",unit:"",postalCode:"700000"}];let hn=(()=>{class o{constructor(t){this.http=t}getBillAddress(t){let n=[{items:[]}];for(let a of fn)if(a.user==t){n[0].items.push(a);break}return n}getServiceAddress(t){let n=[{items:[]}];for(let a of bn)if(a.user==t){n[0].items.push(a);break}return n}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(I.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var xn=c(6640),vn=c(3476);const Zn=q.b;let Cn=(()=>{class o{constructor(){}getAll(t){let n=[{items:[]}];for(let l=1;l<=100;l++)n[0].items.push({_id:l.toString(),name:"INV-"+l.toString(),user:Zn[0]._id,created_at:new Date});return n}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Tn=(()=>{class o{constructor(t){this.http=t}getAllCountries(){return this.http.get("https://restcountries.com/v3.1/all")}getCountry(t){return this.http.get("https://restcountries.com/v3.1/name/"+t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(I.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),wn=(()=>{class o{constructor(){this.card={holder:"Huynh Thuy Linh",last4:"6789",expMonth:5,expYear:27,type:"visa"},this.imageUrl=m.N.imageUrls.logos}ngOnInit(){this.renderImage()}renderImage(){switch(this.card.type){case"visa":this.image=this.imageUrl+"logo-visa.png";break;case"master":this.image=this.imageUrl+"logo-master-card.png";break;case"jcb":this.image=this.imageUrl+"logo-jcb.png"}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-credit-card"]],inputs:{card:"card"},decls:14,vars:5,consts:[[1,"flex","flex-col","justify-between","rounded-modal","bg-black2","py-[16px]","px-[32px]","min-h-[120px]","max-w-[340px]","shadow-light"],[1,"flex","flex-col","lg:flex-row","justify-between","lg:items-center"],[1,"uppercase","tracking-wider"],[1,"flex","flex-col","lg:flex-row","justify-between","items-center"],[1,"mr-8"],[1,"w-full","lg:w-auto","text-right","mt-4","lg:mt-0"],[1,"inline-block","object-contain","w-[100px]","h-[64px]",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"p",2),e._uU(4),e.qZA()(),e.TgZ(5,"div")(6,"p"),e._uU(7),e.qZA()()(),e.TgZ(8,"div",3)(9,"div",4)(10,"p"),e._uU(11),e.qZA()(),e.TgZ(12,"div",5),e._UZ(13,"img",6),e.qZA()()()),2&t&&(e.xp6(4),e.hij(" ",n.card.holder," "),e.xp6(3),e.AsE("EXP ",n.card.expire.month,"/",n.card.expire.year,""),e.xp6(4),e.hij("XXXX-XXXX-XXXX-",n.card.last4,""),e.xp6(2),e.Q6J("src",n.image,e.LSH))}}),o})();function yn(o,i){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",e.gM2(2,1,t.plan.fees.month,"JPY","symbol-narrow","1.2-2"),"/month ")}}let In=(()=>{class o{constructor(){this.active=!1,this.selected=new e.vpe,this.showConfirm=!1}ngOnInit(){}catchConfirm(t){1==t&&this.selected.emit(this.plan)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-item-plan"]],inputs:{plan:"plan",active:"active"},outputs:{selected:"selected"},decls:11,vars:13,consts:[[1,"flex","flex-col","justify-between","box-border","h-full","border","hover:border-main","rounded-[10px]","p-[16px]","cursor-pointer",3,"click"],[1,"py-4"],[1,"text-main"],[4,"ngIf"],[1,"text-[13px]",3,"innerHtml"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return 1==n.active?"":n.showConfirm=!0}),e.TgZ(1,"div")(2,"p"),e._uU(3),e.qZA()(),e.TgZ(4,"div",1)(5,"p",2)(6,"strong"),e._uU(7),e.ALo(8,"currency"),e.qZA()(),e.YNc(9,yn,3,6,"p",3),e.qZA(),e._UZ(10,"div",4),e.qZA()),2&t&&(e.ekj("border-black15",0==n.active)("border-main",1==n.active),e.xp6(3),e.Oqu(n.plan.title),e.xp6(4),e.hij("",e.gM2(8,8,n.plan.fees.year,"JPY","symbol-narrow","1.2-2"),"/year"),e.xp6(2),e.Q6J("ngIf",n.plan.fees.month),e.xp6(1),e.Q6J("innerHtml",n.plan.description,e.oJD))},dependencies:[s.O5,s.H9]}),o})();function qn(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"partial-item-plan",3),e.NdJ("selected",function(a){e.CHM(t);const l=e.oxw(2);return e.KtG(l.select(a))}),e.qZA()}if(2&o){const t=i.$implicit,n=e.oxw(2);e.Q6J("plan",t)("active",n.userPlan._id==t._id)}}function kn(o,i){if(1&o&&(e.TgZ(0,"div",1),e.YNc(1,qn,1,2,"partial-item-plan",2),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.plans)}}function Pn(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"There is no plan yet."),e.qZA())}let An=(()=>{class o{constructor(){this.plans=[],this.userPlan={_id:"1"},this.selected=new e.vpe}ngOnInit(){}select(t){this.selected.emit(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["partial-list-plans"]],inputs:{plans:"plans",userPlan:"userPlan"},outputs:{selected:"selected"},decls:2,vars:2,consts:[[3,"ngIf"],[1,"grid","gap-4","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","xl:grid-cols-4"],[3,"plan","active","selected",4,"ngFor","ngForOf"],[3,"plan","active","selected"]],template:function(t,n){1&t&&(e.YNc(0,kn,2,1,"ng-template",0),e.YNc(1,Pn,2,0,"ng-template",0)),2&t&&(e.Q6J("ngIf",n.plans&&n.plans.length>0),e.xp6(1),e.Q6J("ngIf",!n.plans||0==n.plans.length))},dependencies:[s.sg,s.O5,In]}),o})();function Mn(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleEdit("sub"))}),e._uU(1," Change Plan "),e.qZA()}}function Un(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleEdit("sub"))}),e._uU(1," Purchase New Plan "),e.qZA()}}function Sn(o,i){if(1&o&&(e.TgZ(0,"div")(1,"span",28),e._uU(2,"Your plan: "),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(4),e.Oqu(t.subscriptionInfo.data.plan.title)}}function Jn(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"You did not purchase any plan yet."),e.qZA())}function Nn(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Sn,5,1,"div",11),e.YNc(2,Jn,2,0,"ng-template",null,27,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.subscriptionInfo.data)("ngIfElse",t)}}function Qn(o,i){1&o&&(e.TgZ(0,"div",29),e._UZ(1,"partial-loading"),e.qZA())}function Yn(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleEdit("address"))}),e._uU(1," Edit Addresses "),e.qZA()}}function On(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleEdit("address"))}),e._uU(1," Setup Addresses "),e.qZA()}}function Fn(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(", ",t.addressInfo.data.billing.state,"")}}function En(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(", ",t.addressInfo.data.billing.unit,"")}}function jn(o,i){if(1&o&&(e.TgZ(0,"div")(1,"p")(2,"span"),e._uU(3),e.qZA(),e.YNc(4,Fn,2,1,"span",31),e.YNc(5,En,2,1,"span",31),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"p"),e._uU(11),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(3),e.Oqu(t.addressInfo.data.billing.street),e.xp6(1),e.Q6J("ngIf",t.addressInfo.data.billing.state),e.xp6(1),e.Q6J("ngIf",t.addressInfo.data.billing.unit),e.xp6(2),e.hij(", ",t.addressInfo.data.billing.city,""),e.xp6(2),e.hij(", ",t.addressInfo.data.billing.country,"."),e.xp6(2),e.hij(" Postal Code: ",t.addressInfo.data.billing.postalCode," ")}}function Ln(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"No billing address data."),e.qZA())}function Bn(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,jn,12,6,"div",11),e.YNc(2,Ln,2,0,"ng-template",null,30,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.addressInfo.data.billing)("ngIfElse",t)}}function Hn(o,i){1&o&&(e.TgZ(0,"div",29),e._UZ(1,"partial-loading"),e.qZA())}function Gn(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(", ",t.addressInfo.data.service.state,"")}}function Kn(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(", ",t.addressInfo.data.service.unit,"")}}function Xn(o,i){if(1&o&&(e.TgZ(0,"div")(1,"p")(2,"span"),e._uU(3),e.qZA(),e.YNc(4,Gn,2,1,"span",31),e.YNc(5,Kn,2,1,"span",31),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"p"),e._uU(11),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(3),e.Oqu(t.addressInfo.data.service.street),e.xp6(1),e.Q6J("ngIf",t.addressInfo.data.service.state),e.xp6(1),e.Q6J("ngIf",t.addressInfo.data.service.unit),e.xp6(2),e.hij(", ",t.addressInfo.data.service.city,""),e.xp6(2),e.hij(", ",t.addressInfo.data.service.country,"."),e.xp6(2),e.hij(" Postal Code: ",t.addressInfo.data.service.postalCode," ")}}function Dn(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"No service address data."),e.qZA())}function Vn(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Xn,12,6,"div",11),e.YNc(2,Dn,2,0,"ng-template",null,32,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.addressInfo.data.service)("ngIfElse",t)}}function zn(o,i){1&o&&(e.TgZ(0,"div",29),e._UZ(1,"partial-loading"),e.qZA())}function $n(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleEdit("payment"))}),e._uU(1," Edit Payment "),e.qZA()}}function Rn(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleEdit("payment"))}),e._uU(1," Setup Payment "),e.qZA()}}function Wn(o,i){if(1&o&&e._UZ(0,"partial-credit-card",33),2&o){const t=e.oxw(2);e.Q6J("card",t.paymentInfo.data)}}function ei(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"No payment data."),e.qZA())}function ti(o,i){1&o&&(e.TgZ(0,"div",29),e._UZ(1,"partial-loading"),e.qZA())}function oi(o,i){if(1&o&&(e.TgZ(0,"div",36)(1,"div")(2,"p",28),e._uU(3),e.qZA(),e.TgZ(4,"p",14)(5,"span"),e._uU(6),e.ALo(7,"date"),e.qZA()()(),e.TgZ(8,"div")(9,"div",37),e._UZ(10,"div",38),e.qZA()()()),2&o){const t=i.$implicit;e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.xi3(7,2,t.created_at,"yyyy-MM-dd"))}}function ni(o,i){if(1&o&&(e.ynx(0),e.YNc(1,oi,11,5,"div",35),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.invoiceInfo.data)}}function ii(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"You have no invoice yet."),e.qZA())}function ai(o,i){if(1&o&&(e.YNc(0,ni,2,1,"ng-container",11),e.YNc(1,ii,2,0,"ng-template",null,34,e.W1O)),2&o){const t=e.MAs(2),n=e.oxw(2);e.Q6J("ngIf",n.invoiceInfo.data&&n.invoiceInfo.data.length>0)("ngIfElse",t)}}function ri(o,i){if(1&o&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"p",8)(6,"strong"),e._uU(7,"Subscription"),e.qZA()(),e.YNc(8,Mn,2,0,"button",9),e.YNc(9,Un,2,0,"button",10),e.qZA(),e.YNc(10,Nn,4,2,"div",11),e.YNc(11,Qn,2,0,"ng-template",null,12,e.W1O),e.qZA(),e.TgZ(13,"div")(14,"div",7)(15,"p",8)(16,"strong"),e._uU(17,"Addresses"),e.qZA()(),e.YNc(18,Yn,2,0,"button",9),e.YNc(19,On,2,0,"button",10),e.qZA(),e.TgZ(20,"div",13)(21,"div")(22,"p",14)(23,"strong"),e._uU(24,"Billing Address"),e.qZA()(),e.YNc(25,Bn,4,2,"div",11),e.YNc(26,Hn,2,0,"ng-template",null,15,e.W1O),e.qZA(),e.TgZ(28,"div")(29,"p",14)(30,"strong"),e._uU(31,"Service Address"),e.qZA()(),e.YNc(32,Vn,4,2,"div",11),e.YNc(33,zn,2,0,"ng-template",null,16,e.W1O),e.qZA()()()(),e.TgZ(35,"div",17)(36,"div",18)(37,"p",8)(38,"strong"),e._uU(39,"Payment"),e.qZA()(),e.YNc(40,$n,2,0,"button",9),e.YNc(41,Rn,2,0,"button",10),e.qZA(),e.TgZ(42,"div",19),e.YNc(43,Wn,1,1,"partial-credit-card",20),e.YNc(44,ei,2,0,"ng-template",null,21,e.W1O),e.qZA()()(),e.TgZ(46,"div",22)(47,"div",23)(48,"p",8)(49,"strong"),e._uU(50,"Invoices"),e.qZA()()(),e.TgZ(51,"div",24),e.YNc(52,ti,2,0,"ng-template",1),e.YNc(53,ai,3,2,"ng-template",1),e.qZA()()()),2&o){const t=e.MAs(12),n=e.MAs(27),a=e.MAs(34),l=e.MAs(45),g=e.oxw();e.xp6(8),e.Q6J("ngIf",g.subscriptionInfo.data),e.xp6(1),e.Q6J("ngIf",!g.subscriptionInfo.data),e.xp6(1),e.Q6J("ngIf",0==g.subscriptionInfo.loading)("ngIfElse",t),e.xp6(8),e.Q6J("ngIf",g.addressInfo.data.billing||g.addressInfo.data.service),e.xp6(1),e.Q6J("ngIf",!g.addressInfo.data.billing&&!g.addressInfo.data.service),e.xp6(6),e.Q6J("ngIf",0==g.addressInfo.loading.billing)("ngIfElse",n),e.xp6(7),e.Q6J("ngIf",0==g.addressInfo.loading.service)("ngIfElse",a),e.xp6(8),e.Q6J("ngIf",g.paymentInfo.data),e.xp6(1),e.Q6J("ngIf",!g.paymentInfo.data),e.xp6(2),e.Q6J("ngIf",g.paymentInfo.data)("ngIfElse",l),e.xp6(9),e.Q6J("ngIf",1==g.invoiceInfo.loading),e.xp6(1),e.Q6J("ngIf",0==g.invoiceInfo.loading)}}function li(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleEdit("sub"))}),e._uU(1," Back "),e.qZA()}}function si(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleEdit("address"))}),e._uU(1," Back "),e.qZA()}}function ci(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggleEdit("payment"))}),e._uU(1," Back "),e.qZA()}}function pi(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",7)(2,"p",8)(3,"strong"),e._uU(4),e.qZA()(),e.YNc(5,li,2,0,"button",9),e.YNc(6,si,2,0,"button",9),e.YNc(7,ci,2,0,"button",9),e.qZA(),e.TgZ(8,"partial-list-plans",40),e.NdJ("selected",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.submitForm("sub",a))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(4),e.Oqu(t.editTitle),e.xp6(1),e.Q6J("ngIf",1==t.subscriptionInfo.edit),e.xp6(1),e.Q6J("ngIf",1==t.addressInfo.edit),e.xp6(1),e.Q6J("ngIf",1==t.paymentInfo.edit),e.xp6(1),e.Q6J("plans",t.subscriptionInfo.selects.plans)("userPlan",t.subscriptionInfo.data.plan)}}const mi=[{path:"",component:D,children:[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:pt},{path:"products",component:no},{path:"order-space",component:fo},{path:"collaborators",component:Mt},{path:"public-spaces",component:Ft},{path:"statistics",component:Et},{path:"setting",children:[{path:"",pathMatch:"full",redirectTo:"profile"},{path:"profile",component:tn},{path:"manage",component:mn},{path:"billing",component:(()=>{class o{constructor(t,n,a,l,g,ui,_i,fi,bi){this.fb=t,this.fs=n,this.authService=a,this.addressService=l,this.planService=g,this.ccService=ui,this.paymentService=_i,this.invoicService=fi,this.countryService=bi,this.editMode=!1,this.editTitle="Edit Mode",this.subscriptionInfo={data:void 0,selects:{plans:[]},loading:!1,edit:!1,form:this.fb.group({user:["",[r.kI.required]],plan:["",[r.kI.required]]})},this.addressInfo={data:{billing:void 0,service:void 0},loading:{billing:!1,service:!1},edit:!1,selects:{countries:[]},forms:{billing:this.fb.group({_id:["",[r.kI.required]],country:["",[r.kI.required]],state:[""],city:["",[r.kI.required]],street:["",[r.kI.required]],unit:[""],postalcode:["",[r.kI.required]]}),service:this.fb.group({_id:["",[r.kI.required]],country:["",[r.kI.required]],state:[""],city:["",[r.kI.required]],street:["",[r.kI.required]],unit:[""],postalcode:["",[r.kI.required]]})},submits:{billing:!1,service:!1},messages:{country:{required:"Please select country"},city:{required:"City information cannot be empty."},street:{required:"Street information cannot be empty."},postalCode:{required:"Postal code information cannot be empty."}}},this.paymentInfo={data:void 0,loading:!1,edit:!1,selects:[],form:this.fb.group({type:["",[r.kI.required]],holder:["",[r.kI.required]],number:["",[r.kI.required]],expMonth:["",[r.kI.required]],expYear:["",r.kI.required],cvc:["",[r.kI.required]]})},this.invoiceInfo={loading:!1,data:[]},this.popup={}}ngOnInit(){this.getUser(),this.user&&(this.getSubscription(),this.getAddressBilling(),this.getAddressService(),this.getPayment(),this.getInvoices()),this.getUserPlans(),this.getCountries()}getUser(){this.user=this.authService.getUserDecoded()}getAddressBilling(){this.addressInfo.loading.billing=!0,this.addressInfo.data.billing=this.addressService.getBillAddress(this.user._id)[0].items[0],setTimeout(()=>{this.addressInfo.loading.billing=!1},1e3)}getAddressService(){this.addressInfo.loading.service=!0,this.addressInfo.data.service=this.addressService.getServiceAddress(this.user._id)[0].items[0],setTimeout(()=>{this.addressInfo.loading.service=!1},1e3)}getSubscription(){this.subscriptionInfo.loading=!0,this.subscriptionInfo.data=this.planService.getSubscription(this.user._id)[0].items[0],setTimeout(()=>{this.subscriptionInfo.loading=!1},1e3);let t=this.subscriptionInfo.data;this.ctr("sub").user.setValue(t.user),this.ctr("sub").plan.setValue(t.plan._id)}getPayment(){this.paymentInfo.loading=!0,this.paymentInfo.data=this.paymentService.getCard(this.user._id).data,setTimeout(()=>{this.paymentInfo.loading=!1},1e3)}getInvoices(){this.invoiceInfo.loading=!0,this.invoiceInfo.data=this.invoicService.getAll(this.user._id)[0].items,setTimeout(()=>{this.invoiceInfo.loading=!1},1e3)}getUserPlans(){this.subscriptionInfo.selects.plans=this.planService.getPlans().data,console.log("userPlans: ",this.subscriptionInfo.selects.plans)}getCountries(){this.countryService.getAllCountries().subscribe({next:t=>{console.log("countries res: ",t),this.addressInfo.selects.countries=t},error:t=>{console.error("Error when getting countries list: ",t)}})}form(t){let n;switch(t){case"sub":n=this.subscriptionInfo.form;break;case"bill":n=this.addressInfo.forms.billing;break;case"service":n=this.addressInfo.forms.service;break;case"payment":n=this.paymentInfo.form}return n}ctr(t){return this.form(t).controls}toggleEdit(t){switch(this.editMode=!this.editMode,t){case"sub":this.editTitle=this.subscriptionInfo.data?"Change Plan":"Choose Plan",this.subscriptionInfo.edit=!this.subscriptionInfo.edit;break;case"address":this.editTitle=this.addressInfo.data.billing||this.addressInfo.data.service?"Edit Addresses":"Setup Addresses",this.addressInfo.edit=!this.addressInfo.edit;break;case"payment":this.editTitle=this.paymentInfo.data?"Edit Payment":"Setup Payment Method",this.paymentInfo.edit=!this.paymentInfo.edit}}submitForm(t,n){switch(t){case"sub":this.ctr("sub").plan.setValue(n._id),this.subscriptionInfo.submitted=!0,this.form("sub").valid?(this.subscriptionInfo.edit=!1,this.editMode=!1,this.popup={show:!0,icon:"success",title:"Subsciption updated!",timer:1500},this.planService.getSubscription(this.user._id)):this.popup={show:!0,icon:"error",title:"Invalid or missing info",html:"Please checkk all information and try again."};break;case"bill":this.addressInfo.submits.billing=!0,this.form("bill").valid?(this.popup={show:!0,icon:"success",title:"Billing address updated!",timer:1500},this.addressService.getBillAddress(this.user._id)):this.popup={show:!0,icon:"error",title:"Invalid or missing info",html:"Please checkk all information and try again."};break;case"service":this.addressInfo.submits.service=!0,this.form("service").valid?(this.popup={show:!0,icon:"success",title:"Service address updated!",timer:1500},this.addressService.getServiceAddress(this.user._id)):this.popup={show:!0,icon:"error",title:"Invalid or missing info",html:"Please checkk all information and try again."};break;case"payment":this.paymentInfo.submitted=!0,this.form("payment").valid?(this.paymentInfo.edit=!1,this.editMode=!1,this.popup={show:!0,icon:"success",title:"Payment updated!",timer:1500},this.paymentService.getCard(this.user._id)):this.popup={show:!0,icon:"error",title:"Invalid or missing info",html:"Please checkk all information and try again."}}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(A),e.Y36(T.e),e.Y36(hn),e.Y36(xn.V),e.Y36(vn.$),e.Y36(S.f),e.Y36(Cn),e.Y36(Tn))},o.\u0275cmp=e.Xpm({type:o,selectors:[["page-member-billing"]],decls:4,vars:5,consts:[[3,"route"],[3,"ngIf"],[3,"content","show","closed"],[1,"grow","flex","flex-col","lg:flex-row"],[1,"grow","flex","flex-col","mb-4","mr-0","lg:mr-4","lg:mb-0","lg:max-w-[500px]","xl:min-w-[500px]","lg:h-[600px]"],[1,"bg-white","rounded-[4px]","p-[16px]","mb-4","grow"],[1,"pb-4","mb-4","border-b","border-black15"],[1,"flex","items-center","justify-between","mb-4","text-black65"],[1,"text-[16px]","leading-[23px]","tracking-wider","uppercase","mr-2"],["type","button","class","btn btn-white",3,"click",4,"ngIf"],["type","button","class","btn btn-main",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["subLoading",""],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4"],[1,"text-black45"],["billingLoading",""],["serviceLoading",""],[1,"bg-white","rounded-[4px]","p-[16px]"],[1,"flex","items-center","justify-between","mb-8","text-black65"],[1,"flex","justify-center"],[3,"card",4,"ngIf","ngIfElse"],["noPayment",""],[1,"bg-white","rounded-[4px]","p-[16px]","min-w-[200px]","h-auto","lg:h-[568px]","overflow-hidden"],[1,"flex","items-center","justify-between","text-black65","pb-4","border-b","border-black15"],[1,"max-h-[350px]","lg:max-h-[530px]","overflow-y-scroll","list","scrollbar-small"],["type","button",1,"btn","btn-white",3,"click"],["type","button",1,"btn","btn-main",3,"click"],["noPlan",""],[1,"text-black65"],[1,"w-full","h-[100px]"],["noBilling",""],[4,"ngIf"],["noService",""],[3,"card"],["noInvoice",""],["class","flex justify-between items-center py-2",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","py-2"],[1,"svg-wrapper","w-[20px]","h-[20px]"],[1,"svg","svg-download","w-[18px]","h-[18px]"],[1,"bg-white","rounded-[4px]","p-[16px]","grow","lg:min-w-[500px]","xl:w-[714px]"],[3,"plans","userPlan","selected"]],template:function(t,n){1&t&&(e.TgZ(0,"layout-setting",0),e.YNc(1,ri,54,16,"ng-template",1),e.YNc(2,pi,9,6,"ng-template",1),e.TgZ(3,"modal-popup",2),e.NdJ("closed",function(){return n.popup.show=!1}),e.qZA()()),2&t&&(e.Q6J("route","/member/setting/billing"),e.xp6(1),e.Q6J("ngIf",0==n.editMode),e.xp6(1),e.Q6J("ngIf",1==n.editMode),e.xp6(1),e.Q6J("content",n.popup)("show",n.popup.show))},dependencies:[s.sg,s.O5,F.v,M.f,J,wn,An,s.uU]}),o})()}]}]}];let di=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.Bz.forChild(mi),_.Bz]}),o})(),gi=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[s.ez,E.G,f.uH,di]}),o})()}}]);